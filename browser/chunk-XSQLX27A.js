import{$ as te,Eb as qi,F as Fi,H as Ri,La as on,Lb as Ui,M as nn,R as Ai,S as Ci,V as Pi,W as Le,X as Zt,_ as ee,a as he,aa as Se,b as Xt,d as Ii,da as er,f as gt,k as _i,m as B,n as m,o as Z,oa as Li,ob as sn,p as oe,q as se,r as ie,ra as Mi,s as ki,sa as ji,t as bt,u as rn,xa as Vi,y as Oe,yb as Qi}from"./chunk-ONFM3ZJE.js";var Tt=class{},rr=class{},Me=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(r=>{let n=r.indexOf(":");if(n>0){let i=r.slice(0,n),o=i.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let r=this.headers.get(e.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,r){return this.clone({name:e,value:r,op:"a"})}set(e,r){return this.clone({name:e,value:r,op:"s"})}delete(e,r){return this.clone({name:e,value:r,op:"d"})}maybeSetNormalizedName(e,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(r=>{this.headers.set(r,e.headers.get(r)),this.normalizedNames.set(r,e.normalizedNames.get(r))})}clone(e){let r=new t;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r}applyUpdate(e){let r=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,r);let i=(e.op==="a"?this.headers.get(r):void 0)||[];i.push(...n),this.headers.set(r,i);break;case"d":let o=e.value;if(!o)this.headers.delete(r),this.normalizedNames.delete(r);else{let s=this.headers.get(r);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}break}}setHeaderEntries(e,r){let n=(Array.isArray(r)?r:[r]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>e(this.normalizedNames.get(r),this.headers.get(r)))}};var un=class{encodeKey(e){return Bi(e)}encodeValue(e){return Bi(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function ya(t,e){let r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=r.get(s)||[];u.push(a),r.set(s,u)}),r}var va=/%(\d[a-f0-9])/gi,ga={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Bi(t){return encodeURIComponent(t).replace(va,(e,r)=>ga[r]??e)}function tr(t){return`${t}`}var we=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new un,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=ya(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(r=>{let n=e.fromObject[r],i=Array.isArray(n)?n.map(tr):[tr(n)];this.map.set(r,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let r=this.map.get(e);return r?r[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,r){return this.clone({param:e,value:r,op:"a"})}appendAll(e){let r=[];return Object.keys(e).forEach(n=>{let i=e[n];Array.isArray(i)?i.forEach(o=>{r.push({param:n,value:o,op:"a"})}):r.push({param:n,value:i,op:"a"})}),this.clone(r)}set(e,r){return this.clone({param:e,value:r,op:"s"})}delete(e,r){return this.clone({param:e,value:r,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let r=this.encoder.encodeKey(e);return this.map.get(e).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let r=new t({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(e),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let r=(e.op==="a"?this.map.get(e.param):void 0)||[];r.push(tr(e.value)),this.map.set(e.param,r);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],i=n.indexOf(tr(e.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var cn=class{constructor(){this.map=new Map}set(e,r){return this.map.set(e,r),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function ba(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function zi(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Wi(t){return typeof Blob<"u"&&t instanceof Blob}function Gi(t){return typeof FormData<"u"&&t instanceof FormData}function Ea(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Et=class t{constructor(e,r,n,i){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(ba(this.method)||i?(this.body=n!==void 0?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new Me),this.context||(this.context=new cn),!this.params)this.params=new we,this.urlWithParams=r;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=r;else{let a=r.indexOf("?"),u=a===-1?"?":a<r.length-1?"&":"";this.urlWithParams=r+u+s}}}serializeBody(){return this.body===null?null:zi(this.body)||Wi(this.body)||Gi(this.body)||Ea(this.body)||typeof this.body=="string"?this.body:this.body instanceof we?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Gi(this.body)?null:Wi(this.body)?this.body.type||null:zi(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof we?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let r=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params,l=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((p,f)=>p.set(f,e.setHeaders[f]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((p,f)=>p.set(f,e.setParams[f]),c)),new t(r,n,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}},$e=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}($e||{}),xt=class{constructor(e,r=200,n="OK"){this.headers=e.headers||new Me,this.status=e.status!==void 0?e.status:r,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},fn=class t extends xt{constructor(e={}){super(e),this.type=$e.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},nr=class t extends xt{constructor(e={}){super(e),this.type=$e.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ir=class extends xt{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}};function an(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ta=(()=>{let e=class e{constructor(n){this.handler=n}request(n,i,o={}){let s;if(n instanceof Et)s=n;else{let c;o.headers instanceof Me?c=o.headers:c=new Me(o.headers);let l;o.params&&(o.params instanceof we?l=o.params:l=new we({fromObject:o.params})),s=new Et(n,i,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:l,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=rn(s).pipe(Ri(c=>this.handler.handle(c)));if(n instanceof Et||o.observe==="events")return a;let u=a.pipe(Fi(c=>c instanceof nr));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return u.pipe(Oe(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return u.pipe(Oe(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return u.pipe(Oe(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return u.pipe(Oe(c=>c.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new we().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,o={}){return this.request("PATCH",n,an(o,i))}post(n,i,o={}){return this.request("POST",n,an(o,i))}put(n,i,o={}){return this.request("PUT",n,an(o,i))}};e.\u0275fac=function(i){return new(i||e)(te(Tt))},e.\u0275prov=Le({token:e,factory:e.\u0275fac});let t=e;return t})();function Ki(t,e){return e(t)}function xa(t,e){return(r,n)=>e.intercept(r,{handle:i=>t(i,n)})}function Oa(t,e,r){return(n,i)=>ji(r,()=>e(n,o=>t(o,i)))}var Sa=new ee(""),ln=new ee(""),wa=new ee(""),Da=new ee("");function Na(){let t=null;return(e,r)=>{t===null&&(t=(Se(Sa,{optional:!0})??[]).reduceRight(xa,Ki));let n=Se(sn),i=n.add();return t(e,r).pipe(nn(()=>n.remove(i)))}}var Hi=(()=>{let e=class e extends Tt{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=Se(sn);let o=Se(Da,{optional:!0});this.backend=o??n}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(ln),...this.injector.get(wa,[])]));this.chain=o.reduceRight((s,a)=>Oa(s,a,this.injector),Ki)}let i=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(nn(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(te(rr),te(Mi))},e.\u0275prov=Le({token:e,factory:e.\u0275fac});let t=e;return t})();var Ia=/^\)\]\}',?\n/;function _a(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Ji=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Pi(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?bt(i.\u0275loadImpl()):rn(null)).pipe(Ci(()=>new gt(s=>{let a=i.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((v,d)=>a.setRequestHeader(v,d.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let v=n.detectContentTypeHeader();v!==null&&a.setRequestHeader("Content-Type",v)}if(n.responseType){let v=n.responseType.toLowerCase();a.responseType=v!=="json"?v:"text"}let u=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let v=a.statusText||"OK",d=new Me(a.getAllResponseHeaders()),T=_a(a)||n.url;return c=new fn({headers:d,status:a.status,statusText:v,url:T}),c},p=()=>{let{headers:v,status:d,statusText:T,url:b}=l(),x=null;d!==204&&(x=typeof a.response>"u"?a.responseText:a.response),d===0&&(d=x?200:0);let N=d>=200&&d<300;if(n.responseType==="json"&&typeof x=="string"){let O=x;x=x.replace(Ia,"");try{x=x!==""?JSON.parse(x):null}catch(I){x=O,N&&(N=!1,x={error:I,text:x})}}N?(s.next(new nr({body:x,headers:v,status:d,statusText:T,url:b||void 0})),s.complete()):s.error(new ir({error:x,headers:v,status:d,statusText:T,url:b||void 0}))},f=v=>{let{url:d}=l(),T=new ir({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:d||void 0});s.error(T)},h=!1,y=v=>{h||(s.next(l()),h=!0);let d={type:$e.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(d.total=v.total),n.responseType==="text"&&a.responseText&&(d.partialText=a.responseText),s.next(d)},g=v=>{let d={type:$e.UploadProgress,loaded:v.loaded};v.lengthComputable&&(d.total=v.total),s.next(d)};return a.addEventListener("load",p),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),n.reportProgress&&(a.addEventListener("progress",y),u!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(u),s.next({type:$e.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",p),a.removeEventListener("timeout",f),n.reportProgress&&(a.removeEventListener("progress",y),u!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(te(Ui))},e.\u0275prov=Le({token:e,factory:e.\u0275fac});let t=e;return t})(),$i=new ee("XSRF_ENABLED"),ka="XSRF-TOKEN",Fa=new ee("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>ka}),Ra="X-XSRF-TOKEN",Aa=new ee("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Ra}),or=class{},Ca=(()=>{let e=class e{constructor(n,i,o){this.doc=n,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=qi(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(te(Qi),te(Vi),te(Fa))},e.\u0275prov=Le({token:e,factory:e.\u0275fac});let t=e;return t})();function Pa(t,e){let r=t.url.toLowerCase();if(!Se($i)||t.method==="GET"||t.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return e(t);let n=Se(or).getToken(),i=Se(Aa);return n!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,n)})),e(t)}var Xi=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Xi||{});function La(t,e){return{\u0275kind:t,\u0275providers:e}}function Ma(...t){let e=[Ta,Ji,Hi,{provide:Tt,useExisting:Hi},{provide:rr,useExisting:Ji},{provide:ln,useValue:Pa,multi:!0},{provide:$i,useValue:!0},{provide:or,useClass:Ca}];for(let r of t)e.push(...r.\u0275providers);return Li(e)}var Yi=new ee("LEGACY_INTERCEPTOR_FN");function ja(){return La(Xi.LegacyInterceptors,[{provide:Yi,useFactory:Na},{provide:ln,useExisting:Yi,multi:!0}])}var Nf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=er({type:e}),e.\u0275inj=Zt({providers:[Ma(ja())]});let t=e;return t})();var pn="Invariant Violation",Zi=Object.setPrototypeOf,Va=Zi===void 0?function(t,e){return t.__proto__=e,t}:Zi,ur=function(t){B(e,t);function e(r){r===void 0&&(r=pn);var n=t.call(this,typeof r=="number"?pn+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=pn,Va(n,e.prototype),n}return e}(Error);function De(t,e){if(!t)throw new ur(e)}var ar=["debug","log","warn","error","silent"],hn=ar.indexOf("log");function sr(t){return function(){if(ar.indexOf(t)>=hn){var e=console[t]||console.log;return e.apply(console,arguments)}}}(function(t){t.debug=sr("debug"),t.log=sr("log"),t.warn=sr("warn"),t.error=sr("error")})(De||(De={}));function eo(t){var e=ar[hn];return hn=Math.max(0,ar.indexOf(t)),e}var Ot="3.8.8";function H(t){try{return t()}catch{}}var cr=H(function(){return globalThis})||H(function(){return window})||H(function(){return self})||H(function(){return global})||H(function(){return H.constructor("return this")()});var to=new Map;function St(t){var e=to.get(t)||1;return to.set(t,e+1),"".concat(t,":").concat(e,":").concat(Math.random().toString(36).slice(2))}function fr(t,e){e===void 0&&(e=0);var r=St("stringifyForDisplay");return JSON.stringify(t,function(n,i){return i===void 0?r:i},e).split(JSON.stringify(r)).join("<undefined>")}function lr(t){return function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(typeof e=="number"){var i=e;e=dn(i),e||(e=mn(i,r),r=[])}t.apply(void 0,[e].concat(r))}}var w=Object.assign(function(e,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];e||De(e,dn(r,n)||mn(r,n))},{debug:lr(De.debug),log:lr(De.log),warn:lr(De.warn),error:lr(De.error)});function L(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new ur(dn(t,e)||mn(t,e))}var ro=Symbol.for("ApolloErrorMessageHandler_"+Ot);function no(t){return typeof t=="string"?t:fr(t,2).slice(0,1e3)}function dn(t,e){if(e===void 0&&(e=[]),!!t)return cr[ro]&&cr[ro](t,e.map(no))}function mn(t,e){if(e===void 0&&(e=[]),!!t)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:Ot,message:t,args:e.map(no)})))}var Qa=globalThis.__DEV__!==!1;function Xe(t,e){if(!!!t)throw new Error(e)}function io(t){return typeof t=="object"&&t!==null}function oo(t,e){if(!!!t)throw new Error(e??"Unexpected invariant triggered.")}var qa=/\r\n|[\n\r]/g;function Ze(t,e){let r=0,n=1;for(let i of t.body.matchAll(qa)){if(typeof i.index=="number"||oo(!1),i.index>=e)break;r=i.index+i[0].length,n+=1}return{line:n,column:e+1-r}}function yn(t){return pr(t.source,Ze(t.source,t.start))}function pr(t,e){let r=t.locationOffset.column-1,n="".padStart(r)+t.body,i=e.line-1,o=t.locationOffset.line-1,s=e.line+o,a=e.line===1?r:0,u=e.column+a,c=`${t.name}:${s}:${u}
`,l=n.split(/\r\n|[\n\r]/g),p=l[i];if(p.length>120){let f=Math.floor(u/80),h=u%80,y=[];for(let g=0;g<p.length;g+=80)y.push(p.slice(g,g+80));return c+so([[`${s} |`,y[0]],...y.slice(1,f+1).map(g=>["|",g]),["|","^".padStart(h)],["|",y[f+1]]])}return c+so([[`${s-1} |`,l[i-1]],[`${s} |`,p],["|","^".padStart(u)],[`${s+1} |`,l[i+1]]])}function so(t){let e=t.filter(([n,i])=>i!==void 0),r=Math.max(...e.map(([n])=>n.length));return e.map(([n,i])=>n.padStart(r)+(i?" "+i:"")).join(`
`)}function Ua(t){let e=t[0];return e==null||"kind"in e||"length"in e?{nodes:e,source:t[1],positions:t[2],path:t[3],originalError:t[4],extensions:t[5]}:e}var hr=class t extends Error{constructor(e,...r){var n,i,o;let{nodes:s,source:a,positions:u,path:c,originalError:l,extensions:p}=Ua(r);super(e),this.name="GraphQLError",this.path=c??void 0,this.originalError=l??void 0,this.nodes=ao(Array.isArray(s)?s:s?[s]:void 0);let f=ao((n=this.nodes)===null||n===void 0?void 0:n.map(y=>y.loc).filter(y=>y!=null));this.source=a??(f==null||(i=f[0])===null||i===void 0?void 0:i.source),this.positions=u??f?.map(y=>y.start),this.locations=u&&a?u.map(y=>Ze(a,y)):f?.map(y=>Ze(y.source,y.start));let h=io(l?.extensions)?l?.extensions:void 0;this.extensions=(o=p??h)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?Object.defineProperty(this,"stack",{value:l.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(let r of this.nodes)r.loc&&(e+=`

`+yn(r.loc));else if(this.source&&this.locations)for(let r of this.locations)e+=`

`+pr(this.source,r);return e}toJSON(){let e={message:this.message};return this.locations!=null&&(e.locations=this.locations),this.path!=null&&(e.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}};function ao(t){return t===void 0||t.length===0?void 0:t}function q(t,e,r){return new hr(`Syntax Error: ${r}`,{source:t,positions:[e]})}var wt=class{constructor(e,r,n){this.start=e.start,this.end=r.end,this.startToken=e,this.endToken=r,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}},et=class{constructor(e,r,n,i,o,s){this.kind=e,this.start=r,this.end=n,this.line=i,this.column=o,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}},vn={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Ba=new Set(Object.keys(vn));function gn(t){let e=t?.kind;return typeof e=="string"&&Ba.has(e)}var je=function(t){return t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription",t}(je||{});var dr=function(t){return t.QUERY="QUERY",t.MUTATION="MUTATION",t.SUBSCRIPTION="SUBSCRIPTION",t.FIELD="FIELD",t.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",t.FRAGMENT_SPREAD="FRAGMENT_SPREAD",t.INLINE_FRAGMENT="INLINE_FRAGMENT",t.VARIABLE_DEFINITION="VARIABLE_DEFINITION",t.SCHEMA="SCHEMA",t.SCALAR="SCALAR",t.OBJECT="OBJECT",t.FIELD_DEFINITION="FIELD_DEFINITION",t.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",t.INTERFACE="INTERFACE",t.UNION="UNION",t.ENUM="ENUM",t.ENUM_VALUE="ENUM_VALUE",t.INPUT_OBJECT="INPUT_OBJECT",t.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION",t}(dr||{});var S=function(t){return t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",t}(S||{});function mr(t){return t===9||t===32}function tt(t){return t>=48&&t<=57}function uo(t){return t>=97&&t<=122||t>=65&&t<=90}function bn(t){return uo(t)||t===95}function co(t){return uo(t)||tt(t)||t===95}function fo(t){var e;let r=Number.MAX_SAFE_INTEGER,n=null,i=-1;for(let s=0;s<t.length;++s){var o;let a=t[s],u=za(a);u!==a.length&&(n=(o=n)!==null&&o!==void 0?o:s,i=s,s!==0&&u<r&&(r=u))}return t.map((s,a)=>a===0?s:s.slice(r)).slice((e=n)!==null&&e!==void 0?e:0,i+1)}function za(t){let e=0;for(;e<t.length&&mr(t.charCodeAt(e));)++e;return e}function lo(t,e){let r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),i=n.length===1,o=n.length>1&&n.slice(1).every(h=>h.length===0||mr(h.charCodeAt(0))),s=r.endsWith('\\"""'),a=t.endsWith('"')&&!s,u=t.endsWith("\\"),c=a||u,l=!(e!=null&&e.minimize)&&(!i||t.length>70||c||o||s),p="",f=i&&mr(t.charCodeAt(0));return(l&&!f||o)&&(p+=`
`),p+=r,(l||c)&&(p+=`
`),'"""'+p+'"""'}var E=function(t){return t.SOF="<SOF>",t.EOF="<EOF>",t.BANG="!",t.DOLLAR="$",t.AMP="&",t.PAREN_L="(",t.PAREN_R=")",t.SPREAD="...",t.COLON=":",t.EQUALS="=",t.AT="@",t.BRACKET_L="[",t.BRACKET_R="]",t.BRACE_L="{",t.PIPE="|",t.BRACE_R="}",t.NAME="Name",t.INT="Int",t.FLOAT="Float",t.STRING="String",t.BLOCK_STRING="BlockString",t.COMMENT="Comment",t}(E||{});var Nt=class{constructor(e){let r=new et(E.SOF,0,0,0,0);this.source=e,this.lastToken=r,this.token=r,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==E.EOF)do if(e.next)e=e.next;else{let r=Wa(this,e.end);e.next=r,r.prev=e,e=r}while(e.kind===E.COMMENT);return e}};function ho(t){return t===E.BANG||t===E.DOLLAR||t===E.AMP||t===E.PAREN_L||t===E.PAREN_R||t===E.SPREAD||t===E.COLON||t===E.EQUALS||t===E.AT||t===E.BRACKET_L||t===E.BRACKET_R||t===E.BRACE_L||t===E.PIPE||t===E.BRACE_R}function rt(t){return t>=0&&t<=55295||t>=57344&&t<=1114111}function yr(t,e){return mo(t.charCodeAt(e))&&yo(t.charCodeAt(e+1))}function mo(t){return t>=55296&&t<=56319}function yo(t){return t>=56320&&t<=57343}function Ve(t,e){let r=t.source.body.codePointAt(e);if(r===void 0)return E.EOF;if(r>=32&&r<=126){let n=String.fromCodePoint(r);return n==='"'?`'"'`:`"${n}"`}return"U+"+r.toString(16).toUpperCase().padStart(4,"0")}function U(t,e,r,n,i){let o=t.line,s=1+r-t.lineStart;return new et(e,r,n,o,s,i)}function Wa(t,e){let r=t.source.body,n=r.length,i=e;for(;i<n;){let o=r.charCodeAt(i);switch(o){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++t.line,t.lineStart=i;continue;case 13:r.charCodeAt(i+1)===10?i+=2:++i,++t.line,t.lineStart=i;continue;case 35:return Ga(t,i);case 33:return U(t,E.BANG,i,i+1);case 36:return U(t,E.DOLLAR,i,i+1);case 38:return U(t,E.AMP,i,i+1);case 40:return U(t,E.PAREN_L,i,i+1);case 41:return U(t,E.PAREN_R,i,i+1);case 46:if(r.charCodeAt(i+1)===46&&r.charCodeAt(i+2)===46)return U(t,E.SPREAD,i,i+3);break;case 58:return U(t,E.COLON,i,i+1);case 61:return U(t,E.EQUALS,i,i+1);case 64:return U(t,E.AT,i,i+1);case 91:return U(t,E.BRACKET_L,i,i+1);case 93:return U(t,E.BRACKET_R,i,i+1);case 123:return U(t,E.BRACE_L,i,i+1);case 124:return U(t,E.PIPE,i,i+1);case 125:return U(t,E.BRACE_R,i,i+1);case 34:return r.charCodeAt(i+1)===34&&r.charCodeAt(i+2)===34?Xa(t,i):Ja(t,i)}if(tt(o)||o===45)return Ha(t,i,o);if(bn(o))return Za(t,i);throw q(t.source,i,o===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:rt(o)||yr(r,i)?`Unexpected character: ${Ve(t,i)}.`:`Invalid character: ${Ve(t,i)}.`)}return U(t,E.EOF,n,n)}function Ga(t,e){let r=t.source.body,n=r.length,i=e+1;for(;i<n;){let o=r.charCodeAt(i);if(o===10||o===13)break;if(rt(o))++i;else if(yr(r,i))i+=2;else break}return U(t,E.COMMENT,e,i,r.slice(e+1,i))}function Ha(t,e,r){let n=t.source.body,i=e,o=r,s=!1;if(o===45&&(o=n.charCodeAt(++i)),o===48){if(o=n.charCodeAt(++i),tt(o))throw q(t.source,i,`Invalid number, unexpected digit after 0: ${Ve(t,i)}.`)}else i=En(t,i,o),o=n.charCodeAt(i);if(o===46&&(s=!0,o=n.charCodeAt(++i),i=En(t,i,o),o=n.charCodeAt(i)),(o===69||o===101)&&(s=!0,o=n.charCodeAt(++i),(o===43||o===45)&&(o=n.charCodeAt(++i)),i=En(t,i,o),o=n.charCodeAt(i)),o===46||bn(o))throw q(t.source,i,`Invalid number, expected digit but got: ${Ve(t,i)}.`);return U(t,s?E.FLOAT:E.INT,e,i,n.slice(e,i))}function En(t,e,r){if(!tt(r))throw q(t.source,e,`Invalid number, expected digit but got: ${Ve(t,e)}.`);let n=t.source.body,i=e+1;for(;tt(n.charCodeAt(i));)++i;return i}function Ja(t,e){let r=t.source.body,n=r.length,i=e+1,o=i,s="";for(;i<n;){let a=r.charCodeAt(i);if(a===34)return s+=r.slice(o,i),U(t,E.STRING,e,i+1,s);if(a===92){s+=r.slice(o,i);let u=r.charCodeAt(i+1)===117?r.charCodeAt(i+2)===123?Ya(t,i):Ka(t,i):$a(t,i);s+=u.value,i+=u.size,o=i;continue}if(a===10||a===13)break;if(rt(a))++i;else if(yr(r,i))i+=2;else throw q(t.source,i,`Invalid character within String: ${Ve(t,i)}.`)}throw q(t.source,i,"Unterminated string.")}function Ya(t,e){let r=t.source.body,n=0,i=3;for(;i<12;){let o=r.charCodeAt(e+i++);if(o===125){if(i<5||!rt(n))break;return{value:String.fromCodePoint(n),size:i}}if(n=n<<4|Dt(o),n<0)break}throw q(t.source,e,`Invalid Unicode escape sequence: "${r.slice(e,e+i)}".`)}function Ka(t,e){let r=t.source.body,n=po(r,e+2);if(rt(n))return{value:String.fromCodePoint(n),size:6};if(mo(n)&&r.charCodeAt(e+6)===92&&r.charCodeAt(e+7)===117){let i=po(r,e+8);if(yo(i))return{value:String.fromCodePoint(n,i),size:12}}throw q(t.source,e,`Invalid Unicode escape sequence: "${r.slice(e,e+6)}".`)}function po(t,e){return Dt(t.charCodeAt(e))<<12|Dt(t.charCodeAt(e+1))<<8|Dt(t.charCodeAt(e+2))<<4|Dt(t.charCodeAt(e+3))}function Dt(t){return t>=48&&t<=57?t-48:t>=65&&t<=70?t-55:t>=97&&t<=102?t-87:-1}function $a(t,e){let r=t.source.body;switch(r.charCodeAt(e+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw q(t.source,e,`Invalid character escape sequence: "${r.slice(e,e+2)}".`)}function Xa(t,e){let r=t.source.body,n=r.length,i=t.lineStart,o=e+3,s=o,a="",u=[];for(;o<n;){let c=r.charCodeAt(o);if(c===34&&r.charCodeAt(o+1)===34&&r.charCodeAt(o+2)===34){a+=r.slice(s,o),u.push(a);let l=U(t,E.BLOCK_STRING,e,o+3,fo(u).join(`
`));return t.line+=u.length-1,t.lineStart=i,l}if(c===92&&r.charCodeAt(o+1)===34&&r.charCodeAt(o+2)===34&&r.charCodeAt(o+3)===34){a+=r.slice(s,o),s=o+1,o+=4;continue}if(c===10||c===13){a+=r.slice(s,o),u.push(a),c===13&&r.charCodeAt(o+1)===10?o+=2:++o,a="",s=o,i=o;continue}if(rt(c))++o;else if(yr(r,o))o+=2;else throw q(t.source,o,`Invalid character within String: ${Ve(t,o)}.`)}throw q(t.source,o,"Unterminated string.")}function Za(t,e){let r=t.source.body,n=r.length,i=e+1;for(;i<n;){let o=r.charCodeAt(i);if(co(o))++i;else break}return U(t,E.NAME,e,i,r.slice(e,i))}function nt(t){return vr(t,[])}function vr(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return eu(t,e);default:return String(t)}}function eu(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";let r=[...e,t];if(tu(t)){let n=t.toJSON();if(n!==t)return typeof n=="string"?n:vr(n,r)}else if(Array.isArray(t))return nu(t,r);return ru(t,r)}function tu(t){return typeof t.toJSON=="function"}function ru(t,e){let r=Object.entries(t);return r.length===0?"{}":e.length>2?"["+iu(t)+"]":"{ "+r.map(([i,o])=>i+": "+vr(o,e)).join(", ")+" }"}function nu(t,e){if(t.length===0)return"[]";if(e.length>2)return"[Array]";let r=Math.min(10,t.length),n=t.length-r,i=[];for(let o=0;o<r;++o)i.push(vr(t[o],e));return n===1?i.push("... 1 more item"):n>1&&i.push(`... ${n} more items`),"["+i.join(", ")+"]"}function iu(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}var vo=globalThis.process&&globalThis.process.env.NODE_ENV==="production"?function(e,r){return e instanceof r}:function(e,r){if(e instanceof r)return!0;if(typeof e=="object"&&e!==null){var n;let i=r.prototype[Symbol.toStringTag],o=Symbol.toStringTag in e?e[Symbol.toStringTag]:(n=e.constructor)===null||n===void 0?void 0:n.name;if(i===o){let s=nt(e);throw new Error(`Cannot use ${i} "${s}" from another module or realm.

Ensure that there is only one instance of "graphql" in the node_modules
directory. If different versions of "graphql" are the dependencies of other
relied on modules, use "resolutions" to ensure only one version is installed.

https://yarnpkg.com/en/docs/selective-version-resolutions

Duplicate "graphql" modules cannot be used at the same time since different
versions may have different capabilities and behavior. The data from one
version used in the function from another could produce confusing and
spurious results.`)}}return!1};var it=class{constructor(e,r="GraphQL request",n={line:1,column:1}){typeof e=="string"||Xe(!1,`Body must be a string. Received: ${nt(e)}.`),this.body=e,this.name=r,this.locationOffset=n,this.locationOffset.line>0||Xe(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Xe(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}};function go(t){return vo(t,it)}function br(t,e){return new Tn(t,e).parseDocument()}var Tn=class{constructor(e,r={}){let n=go(e)?e:new it(e);this._lexer=new Nt(n),this._options=r,this._tokenCounter=0}parseName(){let e=this.expectToken(E.NAME);return this.node(e,{kind:S.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:S.DOCUMENT,definitions:this.many(E.SOF,this.parseDefinition,E.EOF)})}parseDefinition(){if(this.peek(E.BRACE_L))return this.parseOperationDefinition();let e=this.peekDescription(),r=e?this._lexer.lookahead():this._lexer.token;if(r.kind===E.NAME){switch(r.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw q(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(r.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(r)}parseOperationDefinition(){let e=this._lexer.token;if(this.peek(E.BRACE_L))return this.node(e,{kind:S.OPERATION_DEFINITION,operation:je.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});let r=this.parseOperationType(),n;return this.peek(E.NAME)&&(n=this.parseName()),this.node(e,{kind:S.OPERATION_DEFINITION,operation:r,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){let e=this.expectToken(E.NAME);switch(e.value){case"query":return je.QUERY;case"mutation":return je.MUTATION;case"subscription":return je.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(E.PAREN_L,this.parseVariableDefinition,E.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:S.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(E.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(E.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){let e=this._lexer.token;return this.expectToken(E.DOLLAR),this.node(e,{kind:S.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:S.SELECTION_SET,selections:this.many(E.BRACE_L,this.parseSelection,E.BRACE_R)})}parseSelection(){return this.peek(E.SPREAD)?this.parseFragment():this.parseField()}parseField(){let e=this._lexer.token,r=this.parseName(),n,i;return this.expectOptionalToken(E.COLON)?(n=r,i=this.parseName()):i=r,this.node(e,{kind:S.FIELD,alias:n,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(E.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){let r=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(E.PAREN_L,r,E.PAREN_R)}parseArgument(e=!1){let r=this._lexer.token,n=this.parseName();return this.expectToken(E.COLON),this.node(r,{kind:S.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){let e=this._lexer.token;this.expectToken(E.SPREAD);let r=this.expectOptionalKeyword("on");return!r&&this.peek(E.NAME)?this.node(e,{kind:S.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:S.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){let e=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(e,{kind:S.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:S.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(e){let r=this._lexer.token;switch(r.kind){case E.BRACKET_L:return this.parseList(e);case E.BRACE_L:return this.parseObject(e);case E.INT:return this.advanceLexer(),this.node(r,{kind:S.INT,value:r.value});case E.FLOAT:return this.advanceLexer(),this.node(r,{kind:S.FLOAT,value:r.value});case E.STRING:case E.BLOCK_STRING:return this.parseStringLiteral();case E.NAME:switch(this.advanceLexer(),r.value){case"true":return this.node(r,{kind:S.BOOLEAN,value:!0});case"false":return this.node(r,{kind:S.BOOLEAN,value:!1});case"null":return this.node(r,{kind:S.NULL});default:return this.node(r,{kind:S.ENUM,value:r.value})}case E.DOLLAR:if(e)if(this.expectToken(E.DOLLAR),this._lexer.token.kind===E.NAME){let n=this._lexer.token.value;throw q(this._lexer.source,r.start,`Unexpected variable "$${n}" in constant value.`)}else throw this.unexpected(r);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){let e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:S.STRING,value:e.value,block:e.kind===E.BLOCK_STRING})}parseList(e){let r=()=>this.parseValueLiteral(e);return this.node(this._lexer.token,{kind:S.LIST,values:this.any(E.BRACKET_L,r,E.BRACKET_R)})}parseObject(e){let r=()=>this.parseObjectField(e);return this.node(this._lexer.token,{kind:S.OBJECT,fields:this.any(E.BRACE_L,r,E.BRACE_R)})}parseObjectField(e){let r=this._lexer.token,n=this.parseName();return this.expectToken(E.COLON),this.node(r,{kind:S.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){let r=[];for(;this.peek(E.AT);)r.push(this.parseDirective(e));return r}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){let r=this._lexer.token;return this.expectToken(E.AT),this.node(r,{kind:S.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){let e=this._lexer.token,r;if(this.expectOptionalToken(E.BRACKET_L)){let n=this.parseTypeReference();this.expectToken(E.BRACKET_R),r=this.node(e,{kind:S.LIST_TYPE,type:n})}else r=this.parseNamedType();return this.expectOptionalToken(E.BANG)?this.node(e,{kind:S.NON_NULL_TYPE,type:r}):r}parseNamedType(){return this.node(this._lexer.token,{kind:S.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(E.STRING)||this.peek(E.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");let n=this.parseConstDirectives(),i=this.many(E.BRACE_L,this.parseOperationTypeDefinition,E.BRACE_R);return this.node(e,{kind:S.SCHEMA_DEFINITION,description:r,directives:n,operationTypes:i})}parseOperationTypeDefinition(){let e=this._lexer.token,r=this.parseOperationType();this.expectToken(E.COLON);let n=this.parseNamedType();return this.node(e,{kind:S.OPERATION_TYPE_DEFINITION,operation:r,type:n})}parseScalarTypeDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");let n=this.parseName(),i=this.parseConstDirectives();return this.node(e,{kind:S.SCALAR_TYPE_DEFINITION,description:r,name:n,directives:i})}parseObjectTypeDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");let n=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:S.OBJECT_TYPE_DEFINITION,description:r,name:n,interfaces:i,directives:o,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(E.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(E.BRACE_L,this.parseFieldDefinition,E.BRACE_R)}parseFieldDefinition(){let e=this._lexer.token,r=this.parseDescription(),n=this.parseName(),i=this.parseArgumentDefs();this.expectToken(E.COLON);let o=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(e,{kind:S.FIELD_DEFINITION,description:r,name:n,arguments:i,type:o,directives:s})}parseArgumentDefs(){return this.optionalMany(E.PAREN_L,this.parseInputValueDef,E.PAREN_R)}parseInputValueDef(){let e=this._lexer.token,r=this.parseDescription(),n=this.parseName();this.expectToken(E.COLON);let i=this.parseTypeReference(),o;this.expectOptionalToken(E.EQUALS)&&(o=this.parseConstValueLiteral());let s=this.parseConstDirectives();return this.node(e,{kind:S.INPUT_VALUE_DEFINITION,description:r,name:n,type:i,defaultValue:o,directives:s})}parseInterfaceTypeDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");let n=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(e,{kind:S.INTERFACE_TYPE_DEFINITION,description:r,name:n,interfaces:i,directives:o,fields:s})}parseUnionTypeDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");let n=this.parseName(),i=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(e,{kind:S.UNION_TYPE_DEFINITION,description:r,name:n,directives:i,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(E.EQUALS)?this.delimitedMany(E.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");let n=this.parseName(),i=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(e,{kind:S.ENUM_TYPE_DEFINITION,description:r,name:n,directives:i,values:o})}parseEnumValuesDefinition(){return this.optionalMany(E.BRACE_L,this.parseEnumValueDefinition,E.BRACE_R)}parseEnumValueDefinition(){let e=this._lexer.token,r=this.parseDescription(),n=this.parseEnumValueName(),i=this.parseConstDirectives();return this.node(e,{kind:S.ENUM_VALUE_DEFINITION,description:r,name:n,directives:i})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw q(this._lexer.source,this._lexer.token.start,`${gr(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");let n=this.parseName(),i=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(e,{kind:S.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:n,directives:i,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(E.BRACE_L,this.parseInputValueDef,E.BRACE_R)}parseTypeSystemExtension(){let e=this._lexer.lookahead();if(e.kind===E.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");let r=this.parseConstDirectives(),n=this.optionalMany(E.BRACE_L,this.parseOperationTypeDefinition,E.BRACE_R);if(r.length===0&&n.length===0)throw this.unexpected();return this.node(e,{kind:S.SCHEMA_EXTENSION,directives:r,operationTypes:n})}parseScalarTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");let r=this.parseName(),n=this.parseConstDirectives();if(n.length===0)throw this.unexpected();return this.node(e,{kind:S.SCALAR_TYPE_EXTENSION,name:r,directives:n})}parseObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");let r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:S.OBJECT_TYPE_EXTENSION,name:r,interfaces:n,directives:i,fields:o})}parseInterfaceTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");let r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(n.length===0&&i.length===0&&o.length===0)throw this.unexpected();return this.node(e,{kind:S.INTERFACE_TYPE_EXTENSION,name:r,interfaces:n,directives:i,fields:o})}parseUnionTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");let r=this.parseName(),n=this.parseConstDirectives(),i=this.parseUnionMemberTypes();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:S.UNION_TYPE_EXTENSION,name:r,directives:n,types:i})}parseEnumTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");let r=this.parseName(),n=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:S.ENUM_TYPE_EXTENSION,name:r,directives:n,values:i})}parseInputObjectTypeExtension(){let e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");let r=this.parseName(),n=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();if(n.length===0&&i.length===0)throw this.unexpected();return this.node(e,{kind:S.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:n,fields:i})}parseDirectiveDefinition(){let e=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(E.AT);let n=this.parseName(),i=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");let s=this.parseDirectiveLocations();return this.node(e,{kind:S.DIRECTIVE_DEFINITION,description:r,name:n,arguments:i,repeatable:o,locations:s})}parseDirectiveLocations(){return this.delimitedMany(E.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){let e=this._lexer.token,r=this.parseName();if(Object.prototype.hasOwnProperty.call(dr,r.value))return r;throw this.unexpected(e)}node(e,r){return this._options.noLocation!==!0&&(r.loc=new wt(e,this._lexer.lastToken,this._lexer.source)),r}peek(e){return this._lexer.token.kind===e}expectToken(e){let r=this._lexer.token;if(r.kind===e)return this.advanceLexer(),r;throw q(this._lexer.source,r.start,`Expected ${bo(e)}, found ${gr(r)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e?(this.advanceLexer(),!0):!1}expectKeyword(e){let r=this._lexer.token;if(r.kind===E.NAME&&r.value===e)this.advanceLexer();else throw q(this._lexer.source,r.start,`Expected "${e}", found ${gr(r)}.`)}expectOptionalKeyword(e){let r=this._lexer.token;return r.kind===E.NAME&&r.value===e?(this.advanceLexer(),!0):!1}unexpected(e){let r=e??this._lexer.token;return q(this._lexer.source,r.start,`Unexpected ${gr(r)}.`)}any(e,r,n){this.expectToken(e);let i=[];for(;!this.expectOptionalToken(n);)i.push(r.call(this));return i}optionalMany(e,r,n){if(this.expectOptionalToken(e)){let i=[];do i.push(r.call(this));while(!this.expectOptionalToken(n));return i}return[]}many(e,r,n){this.expectToken(e);let i=[];do i.push(r.call(this));while(!this.expectOptionalToken(n));return i}delimitedMany(e,r){this.expectOptionalToken(e);let n=[];do n.push(r.call(this));while(this.expectOptionalToken(e));return n}advanceLexer(){let{maxTokens:e}=this._options,r=this._lexer.advance();if(e!==void 0&&r.kind!==E.EOF&&(++this._tokenCounter,this._tokenCounter>e))throw q(this._lexer.source,r.start,`Document contains more that ${e} tokens. Parsing aborted.`)}};function gr(t){let e=t.value;return bo(t.kind)+(e!=null?` "${e}"`:"")}function bo(t){return ho(t)?`"${t}"`:t}function Eo(t){return`"${t.replace(ou,su)}"`}var ou=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function su(t){return au[t.charCodeAt(0)]}var au=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];var Qe=Object.freeze({});function J(t,e,r=vn){let n=new Map;for(let d of Object.values(S))n.set(d,xn(e,d));let i,o=Array.isArray(t),s=[t],a=-1,u=[],c=t,l,p,f=[],h=[];do{a++;let d=a===s.length,T=d&&u.length!==0;if(d){if(l=h.length===0?void 0:f[f.length-1],c=p,p=h.pop(),T)if(o){c=c.slice();let x=0;for(let[N,O]of u){let I=N-x;O===null?(c.splice(I,1),x++):c[I]=O}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(let[x,N]of u)c[x]=N}a=i.index,s=i.keys,u=i.edits,o=i.inArray,i=i.prev}else if(p){if(l=o?a:s[a],c=p[l],c==null)continue;f.push(l)}let b;if(!Array.isArray(c)){var y,g;gn(c)||Xe(!1,`Invalid AST Node: ${nt(c)}.`);let x=d?(y=n.get(c.kind))===null||y===void 0?void 0:y.leave:(g=n.get(c.kind))===null||g===void 0?void 0:g.enter;if(b=x?.call(e,c,l,p,f,h),b===Qe)break;if(b===!1){if(!d){f.pop();continue}}else if(b!==void 0&&(u.push([l,b]),!d))if(gn(b))c=b;else{f.pop();continue}}if(b===void 0&&T&&u.push([l,c]),d)f.pop();else{var v;i={inArray:o,index:a,keys:s,edits:u,prev:i},o=Array.isArray(c),s=o?c:(v=r[c.kind])!==null&&v!==void 0?v:[],a=-1,u=[],p&&h.push(p),p=c}}while(i!==void 0);return u.length!==0?u[u.length-1][1]:t}function xn(t,e){let r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}function Tr(t){return J(t,cu)}var uu=80,cu={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>D(t.definitions,`

`)},OperationDefinition:{leave(t){let e=F("(",D(t.variableDefinitions,", "),")"),r=D([t.operation,D([t.name,e]),D(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+F(" = ",r)+F(" ",D(n," "))},SelectionSet:{leave:({selections:t})=>ae(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:i}){let o=F("",t,": ")+e,s=o+F("(",D(r,", "),")");return s.length>uu&&(s=o+F(`(
`,Er(D(r,`
`)),`
)`)),D([s,D(n," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+F(" ",D(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>D(["...",F("on ",t),D(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:i})=>`fragment ${t}${F("(",D(r,", "),")")} on ${e} ${F("",D(n," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?lo(t):Eo(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+D(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+D(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+F("(",D(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:r})=>F("",t,`
`)+D(["schema",D(e," "),ae(r)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:r})=>F("",t,`
`)+D(["scalar",e,D(r," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>F("",t,`
`)+D(["type",e,F("implements ",D(r," & ")),D(n," "),ae(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:r,type:n,directives:i})=>F("",t,`
`)+e+(To(r)?F(`(
`,Er(D(r,`
`)),`
)`):F("(",D(r,", "),")"))+": "+n+F(" ",D(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:r,defaultValue:n,directives:i})=>F("",t,`
`)+D([e+": "+r,F("= ",n),D(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:i})=>F("",t,`
`)+D(["interface",e,F("implements ",D(r," & ")),D(n," "),ae(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:r,types:n})=>F("",t,`
`)+D(["union",e,D(r," "),F("= ",D(n," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:r,values:n})=>F("",t,`
`)+D(["enum",e,D(r," "),ae(n)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:r})=>F("",t,`
`)+D([e,D(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:r,fields:n})=>F("",t,`
`)+D(["input",e,D(r," "),ae(n)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:r,repeatable:n,locations:i})=>F("",t,`
`)+"directive @"+e+(To(r)?F(`(
`,Er(D(r,`
`)),`
)`):F("(",D(r,", "),")"))+(n?" repeatable":"")+" on "+D(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>D(["extend schema",D(t," "),ae(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>D(["extend scalar",t,D(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>D(["extend type",t,F("implements ",D(e," & ")),D(r," "),ae(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>D(["extend interface",t,F("implements ",D(e," & ")),D(r," "),ae(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>D(["extend union",t,D(e," "),F("= ",D(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>D(["extend enum",t,D(e," "),ae(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>D(["extend input",t,D(e," "),ae(r)]," ")}};function D(t,e=""){var r;return(r=t?.filter(n=>n).join(e))!==null&&r!==void 0?r:""}function ae(t){return F(`{
`,Er(D(t,`
`)),`
}`)}function F(t,e,r=""){return e!=null&&e!==""?t+e+r:""}function Er(t){return F("  ",t.replace(/\n/g,`
  `))}function To(t){var e;return(e=t?.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}function It(t){return t.kind===S.FIELD||t.kind===S.FRAGMENT_SPREAD||t.kind===S.INLINE_FRAGMENT}function ue(t,e){var r=t.directives;return!r||!r.length?!0:xo(r).every(function(n){var i=n.directive,o=n.ifArgument,s=!1;return o.value.kind==="Variable"?(s=e&&e[o.value.name.value],w(s!==void 0,66,i.name.value)):s=o.value.value,i.name.value==="skip"?!s:s})}function ge(t,e,r){var n=new Set(t),i=n.size;return J(e,{Directive:function(o){if(n.delete(o.name.value)&&(!r||!n.size))return Qe}}),r?!n.size:n.size<i}function On(t){return t&&ge(["client","export"],t,!0)}function Su(t){var e=t.name.value;return e==="skip"||e==="include"}function xo(t){var e=[];return t&&t.length&&t.forEach(function(r){if(Su(r)){var n=r.arguments,i=r.name.value;w(n&&n.length===1,67,i);var o=n[0];w(o.name&&o.name.value==="if",68,i);var s=o.value;w(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),69,i),e.push({directive:r,ifArgument:o})}}),e}var wu=()=>Object.create(null),{forEach:Du,slice:Oo}=Array.prototype,{hasOwnProperty:Nu}=Object.prototype,ce=class t{constructor(e=!0,r=wu){this.weakness=e,this.makeData=r}lookup(){return this.lookupArray(arguments)}lookupArray(e){let r=this;return Du.call(e,n=>r=r.getChildTrie(n)),Nu.call(r,"data")?r.data:r.data=this.makeData(Oo.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let r=this;for(let n=0,i=e.length;r&&n<i;++n){let o=r.mapFor(e[n],!1);r=o&&o.get(e[n])}return r&&r.data}remove(){return this.removeArray(arguments)}removeArray(e){let r;if(e.length){let n=e[0],i=this.mapFor(n,!1),o=i&&i.get(n);o&&(r=o.removeArray(Oo.call(e,1)),!o.data&&!o.weak&&!(o.strong&&o.strong.size)&&i.delete(n))}else r=this.data,delete this.data;return r}getChildTrie(e){let r=this.mapFor(e,!0),n=r.get(e);return n||r.set(e,n=new t(this.weakness,this.makeData)),n}mapFor(e,r){return this.weakness&&Iu(e)?this.weak||(r?this.weak=new WeakMap:void 0):this.strong||(r?this.strong=new Map:void 0)}};function Iu(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}var Y=typeof WeakMap=="function"&&H(function(){return navigator.product})!=="ReactNative",xr=typeof WeakSet=="function",Sn=typeof Symbol=="function"&&typeof Symbol.for=="function",Ne=Sn&&Symbol.asyncIterator,sp=typeof H(function(){return window.document.createElement})=="function",ap=H(function(){return navigator.userAgent.indexOf("jsdom")>=0})||!1;function R(t){return t!==null&&typeof t=="object"}function wn(t,e){var r=e,n=[];t.definitions.forEach(function(o){if(o.kind==="OperationDefinition")throw L(70,o.operation,o.name?" named '".concat(o.name.value,"'"):"");o.kind==="FragmentDefinition"&&n.push(o)}),typeof r>"u"&&(w(n.length===1,71,n.length),r=n[0].name.value);var i=m(m({},t),{definitions:ie([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}],t.definitions,!0)});return i}function be(t){t===void 0&&(t=[]);var e={};return t.forEach(function(r){e[r.name.value]=r}),e}function Ee(t,e){switch(t.kind){case"InlineFragment":return t;case"FragmentSpread":{var r=t.name.value;if(typeof e=="function")return e(r);var n=e&&e[r];return w(n,72,r),n||null}default:return null}}function fe(t){return{__ref:String(t)}}function k(t){return!!(t&&typeof t=="object"&&typeof t.__ref=="string")}function Dn(t){return R(t)&&t.kind==="Document"&&Array.isArray(t.definitions)}function _u(t){return t.kind==="StringValue"}function ku(t){return t.kind==="BooleanValue"}function Fu(t){return t.kind==="IntValue"}function Ru(t){return t.kind==="FloatValue"}function Au(t){return t.kind==="Variable"}function Cu(t){return t.kind==="ObjectValue"}function Pu(t){return t.kind==="ListValue"}function Lu(t){return t.kind==="EnumValue"}function Mu(t){return t.kind==="NullValue"}function Ie(t,e,r,n){if(Fu(r)||Ru(r))t[e.value]=Number(r.value);else if(ku(r)||_u(r))t[e.value]=r.value;else if(Cu(r)){var i={};r.fields.map(function(s){return Ie(i,s.name,s.value,n)}),t[e.value]=i}else if(Au(r)){var o=(n||{})[r.name.value];t[e.value]=o}else if(Pu(r))t[e.value]=r.values.map(function(s){var a={};return Ie(a,e,s,n),a[e.value]});else if(Lu(r))t[e.value]=r.value;else if(Mu(r))t[e.value]=null;else throw L(81,e.value,r.kind)}function Nn(t,e){var r=null;t.directives&&(r={},t.directives.forEach(function(i){r[i.name.value]={},i.arguments&&i.arguments.forEach(function(o){var s=o.name,a=o.value;return Ie(r[i.name.value],s,a,e)})}));var n=null;return t.arguments&&t.arguments.length&&(n={},t.arguments.forEach(function(i){var o=i.name,s=i.value;return Ie(n,o,s,e)})),kt(t.name.value,n,r)}var ju=["connection","include","skip","client","rest","export","nonreactive"],kt=Object.assign(function(t,e,r){if(e&&r&&r.connection&&r.connection.key)if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var i={};return n.forEach(function(a){i[a]=e[a]}),"".concat(r.connection.key,"(").concat(_t(i),")")}else return r.connection.key;var o=t;if(e){var s=_t(e);o+="(".concat(s,")")}return r&&Object.keys(r).forEach(function(a){ju.indexOf(a)===-1&&(r[a]&&Object.keys(r[a]).length?o+="@".concat(a,"(").concat(_t(r[a]),")"):o+="@".concat(a))}),o},{setStringify:function(t){var e=_t;return _t=t,e}}),_t=function(e){return JSON.stringify(e,Vu)};function Vu(t,e){return R(e)&&!Array.isArray(e)&&(e=Object.keys(e).sort().reduce(function(r,n){return r[n]=e[n],r},{})),e}function Te(t,e){if(t.arguments&&t.arguments.length){var r={};return t.arguments.forEach(function(n){var i=n.name,o=n.value;return Ie(r,i,o,e)}),r}return null}function $(t){return t.alias?t.alias.value:t.name.value}function Ft(t,e,r){for(var n,i=0,o=e.selections;i<o.length;i++){var s=o[i];if(K(s)){if(s.name.value==="__typename")return t[$(s)]}else n?n.push(s):n=[s]}if(typeof t.__typename=="string")return t.__typename;if(n)for(var a=0,u=n;a<u.length;a++){var s=u[a],c=Ft(t,Ee(s,r).selectionSet,r);if(typeof c=="string")return c}}function K(t){return t.kind==="Field"}function In(t){return t.kind==="InlineFragment"}function _e(t){w(t&&t.kind==="Document",73);var e=t.definitions.filter(function(r){return r.kind!=="FragmentDefinition"}).map(function(r){if(r.kind!=="OperationDefinition")throw L(74,r.kind);return r});return w(e.length<=1,75,e.length),t}function de(t){return _e(t),t.definitions.filter(function(e){return e.kind==="OperationDefinition"})[0]}function ot(t){return t.definitions.filter(function(e){return e.kind==="OperationDefinition"&&!!e.name}).map(function(e){return e.name.value})[0]||null}function xe(t){return t.definitions.filter(function(e){return e.kind==="FragmentDefinition"})}function Rt(t){var e=de(t);return w(e&&e.operation==="query",76),e}function _n(t){w(t.kind==="Document",77),w(t.definitions.length<=1,78);var e=t.definitions[0];return w(e.kind==="FragmentDefinition",79),e}function le(t){_e(t);for(var e,r=0,n=t.definitions;r<n.length;r++){var i=n[r];if(i.kind==="OperationDefinition"){var o=i.operation;if(o==="query"||o==="mutation"||o==="subscription")return i}i.kind==="FragmentDefinition"&&!e&&(e=i)}if(e)return e;throw L(80)}function qe(t){var e=Object.create(null),r=t&&t.variableDefinitions;return r&&r.length&&r.forEach(function(n){n.defaultValue&&Ie(e,n.variable.name,n.defaultValue)}),e}function Qu(t){return t}var st=function(){function t(e,r){r===void 0&&(r=Object.create(null)),this.resultCache=xr?new WeakSet:new Set,this.transform=e,r.getCacheKey&&(this.getCacheKey=r.getCacheKey),r.cache!==!1&&(this.stableCacheKeys=new ce(Y,function(n){return{key:n}}))}return t.prototype.getCacheKey=function(e){return[e]},t.identity=function(){return new t(Qu,{cache:!1})},t.split=function(e,r,n){return n===void 0&&(n=t.identity()),new t(function(i){var o=e(i)?r:n;return o.transformDocument(i)},{cache:!1})},t.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var r=this.getStableCacheEntry(e);if(r&&r.value)return r.value;_e(e);var n=this.transform(e);return this.resultCache.add(n),r&&(r.value=n),n},t.prototype.concat=function(e){var r=this;return new t(function(n){return e.transformDocument(r.transformDocument(n))},{cache:!1})},t.prototype.getStableCacheEntry=function(e){if(this.stableCacheKeys){var r=this.getCacheKey(e);if(r)return w(Array.isArray(r),65),this.stableCacheKeys.lookupArray(r)}},t}();var at=Y?new WeakMap:void 0,At=function(t){var e;return e=at?.get(t),e||(e=Tr(t),at?.set(t,e)),e};var P=Array.isArray;function W(t){return Array.isArray(t)&&t.length>0}var So={kind:S.FIELD,name:{kind:S.NAME,value:"__typename"}};function Do(t,e){return!t||t.selectionSet.selections.every(function(r){return r.kind===S.FRAGMENT_SPREAD&&Do(e[r.name.value],e)})}function qu(t){return Do(de(t)||_n(t),be(xe(t)))?null:t}function Uu(t){var e=new Map,r=new Map;return t.forEach(function(n){n&&(n.name?e.set(n.name,n):n.test&&r.set(n.test,n))}),function(n){var i=e.get(n.name.value);return!i&&r.size&&r.forEach(function(o,s){s(n)&&(i=o)}),i}}function wo(t){var e=new Map;return function(n){n===void 0&&(n=t);var i=e.get(n);return i||e.set(n,i={variables:new Set,fragmentSpreads:new Set}),i}}function Or(t,e){_e(e);for(var r=wo(""),n=wo(""),i=function(d){for(var T=0,b=void 0;T<d.length&&(b=d[T]);++T)if(!P(b)){if(b.kind===S.OPERATION_DEFINITION)return r(b.name&&b.name.value);if(b.kind===S.FRAGMENT_DEFINITION)return n(b.name.value)}return globalThis.__DEV__!==!1&&w.error(82),null},o=0,s=e.definitions.length-1;s>=0;--s)e.definitions[s].kind===S.OPERATION_DEFINITION&&++o;var a=Uu(t),u=function(d){return W(d)&&d.map(a).some(function(T){return T&&T.remove})},c=new Map,l=!1,p={enter:function(d){if(u(d.directives))return l=!0,null}},f=J(e,{Field:p,InlineFragment:p,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(d,T,b,x,N){var O=i(N);O&&O.variables.add(d.name.value)}},FragmentSpread:{enter:function(d,T,b,x,N){if(u(d.directives))return l=!0,null;var O=i(N);O&&O.fragmentSpreads.add(d.name.value)}},FragmentDefinition:{enter:function(d,T,b,x){c.set(JSON.stringify(x),d)},leave:function(d,T,b,x){var N=c.get(JSON.stringify(x));if(d===N)return d;if(o>0&&d.selectionSet.selections.every(function(O){return O.kind===S.FIELD&&O.name.value==="__typename"}))return n(d.name.value).removed=!0,l=!0,null}},Directive:{leave:function(d){if(a(d))return l=!0,null}}});if(!l)return e;var h=function(d){return d.transitiveVars||(d.transitiveVars=new Set(d.variables),d.removed||d.fragmentSpreads.forEach(function(T){h(n(T)).transitiveVars.forEach(function(b){d.transitiveVars.add(b)})})),d},y=new Set;f.definitions.forEach(function(d){d.kind===S.OPERATION_DEFINITION?h(r(d.name&&d.name.value)).fragmentSpreads.forEach(function(T){y.add(T)}):d.kind===S.FRAGMENT_DEFINITION&&o===0&&!n(d.name.value).removed&&y.add(d.name.value)}),y.forEach(function(d){h(n(d)).fragmentSpreads.forEach(function(T){y.add(T)})});var g=function(d){return!!(!y.has(d)||n(d).removed)},v={enter:function(d){if(g(d.name.value))return null}};return qu(J(f,{FragmentSpread:v,FragmentDefinition:v,OperationDefinition:{leave:function(d){if(d.variableDefinitions){var T=h(r(d.name&&d.name.value)).transitiveVars;if(T.size<d.variableDefinitions.length)return m(m({},d),{variableDefinitions:d.variableDefinitions.filter(function(b){return T.has(b.variable.name.value)})})}}}}))}var Ue=Object.assign(function(t){return J(t,{SelectionSet:{enter:function(e,r,n){if(!(n&&n.kind===S.OPERATION_DEFINITION)){var i=e.selections;if(i){var o=i.some(function(a){return K(a)&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)});if(!o){var s=n;if(!(K(s)&&s.directives&&s.directives.some(function(a){return a.name.value==="export"})))return m(m({},e),{selections:ie(ie([],i,!0),[So],!1)})}}}}}})},{added:function(t){return t===So}});function kn(t){var e=le(t),r=e.operation;if(r==="query")return t;var n=J(t,{OperationDefinition:{enter:function(i){return m(m({},i),{operation:"query"})}}});return n}function Ct(t){_e(t);var e=Or([{test:function(r){return r.name.value==="client"},remove:!0}],t);return e}var Bu=Object.prototype.hasOwnProperty;function Fn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Pt(t)}function Pt(t){var e=t[0]||{},r=t.length;if(r>1)for(var n=new X,i=1;i<r;++i)e=n.merge(e,t[i]);return e}var zu=function(t,e,r){return this.merge(t[r],e[r])},X=function(){function t(e){e===void 0&&(e=zu),this.reconciler=e,this.isObject=R,this.pastCopies=new Set}return t.prototype.merge=function(e,r){for(var n=this,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return R(r)&&R(e)?(Object.keys(r).forEach(function(s){if(Bu.call(e,s)){var a=e[s];if(r[s]!==a){var u=n.reconciler.apply(n,ie([e,r,s],i,!1));u!==a&&(e=n.shallowCopyForMerge(e),e[s]=u)}}else e=n.shallowCopyForMerge(e),e[s]=r[s]}),e):r},t.prototype.shallowCopyForMerge=function(e){return R(e)&&(this.pastCopies.has(e)||(Array.isArray(e)?e=e.slice(0):e=m({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},t}();function Wu(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=Gu(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gu(t,e){if(t){if(typeof t=="string")return No(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return No(t,e)}}function No(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Io(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pn(t,e,r){return e&&Io(t.prototype,e),r&&Io(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var Ln=function(){return typeof Symbol=="function"},Mn=function(t){return Ln()&&!!Symbol[t]},jn=function(t){return Mn(t)?Symbol[t]:"@@"+t};Ln()&&!Mn("observable")&&(Symbol.observable=Symbol("observable"));var Hu=jn("iterator"),An=jn("observable"),_o=jn("species");function wr(t,e){var r=t[e];if(r!=null){if(typeof r!="function")throw new TypeError(r+" is not a function");return r}}function Lt(t){var e=t.constructor;return e!==void 0&&(e=e[_o],e===null&&(e=void 0)),e!==void 0?e:A}function Ju(t){return t instanceof A}function ut(t){ut.log?ut.log(t):setTimeout(function(){throw t})}function Sr(t){Promise.resolve().then(function(){try{t()}catch(e){ut(e)}})}function ko(t){var e=t._cleanup;if(e!==void 0&&(t._cleanup=void 0,!!e))try{if(typeof e=="function")e();else{var r=wr(e,"unsubscribe");r&&r.call(e)}}catch(n){ut(n)}}function Cn(t){t._observer=void 0,t._queue=void 0,t._state="closed"}function Yu(t){var e=t._queue;if(e){t._queue=void 0,t._state="ready";for(var r=0;r<e.length&&(Fo(t,e[r].type,e[r].value),t._state!=="closed");++r);}}function Fo(t,e,r){t._state="running";var n=t._observer;try{var i=wr(n,e);switch(e){case"next":i&&i.call(n,r);break;case"error":if(Cn(t),i)i.call(n,r);else throw r;break;case"complete":Cn(t),i&&i.call(n);break}}catch(o){ut(o)}t._state==="closed"?ko(t):t._state==="running"&&(t._state="ready")}function Rn(t,e,r){if(t._state!=="closed"){if(t._state==="buffering"){t._queue.push({type:e,value:r});return}if(t._state!=="ready"){t._state="buffering",t._queue=[{type:e,value:r}],Sr(function(){return Yu(t)});return}Fo(t,e,r)}}var Ku=function(){function t(r,n){this._cleanup=void 0,this._observer=r,this._queue=void 0,this._state="initializing";var i=new $u(this);try{this._cleanup=n.call(void 0,i)}catch(o){i.error(o)}this._state==="initializing"&&(this._state="ready")}var e=t.prototype;return e.unsubscribe=function(){this._state!=="closed"&&(Cn(this),ko(this))},Pn(t,[{key:"closed",get:function(){return this._state==="closed"}}]),t}(),$u=function(){function t(r){this._subscription=r}var e=t.prototype;return e.next=function(n){Rn(this._subscription,"next",n)},e.error=function(n){Rn(this._subscription,"error",n)},e.complete=function(){Rn(this._subscription,"complete")},Pn(t,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),t}(),A=function(){function t(r){if(!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if(typeof r!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=r}var e=t.prototype;return e.subscribe=function(n){return(typeof n!="object"||n===null)&&(n={next:n,error:arguments[1],complete:arguments[2]}),new Ku(n,this._subscriber)},e.forEach=function(n){var i=this;return new Promise(function(o,s){if(typeof n!="function"){s(new TypeError(n+" is not a function"));return}function a(){u.unsubscribe(),o()}var u=i.subscribe({next:function(c){try{n(c,a)}catch(l){s(l),u.unsubscribe()}},error:s,complete:o})})},e.map=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=Lt(this);return new o(function(s){return i.subscribe({next:function(a){try{a=n(a)}catch(u){return s.error(u)}s.next(a)},error:function(a){s.error(a)},complete:function(){s.complete()}})})},e.filter=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=Lt(this);return new o(function(s){return i.subscribe({next:function(a){try{if(!n(a))return}catch(u){return s.error(u)}s.next(a)},error:function(a){s.error(a)},complete:function(){s.complete()}})})},e.reduce=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=Lt(this),s=arguments.length>1,a=!1,u=arguments[1],c=u;return new o(function(l){return i.subscribe({next:function(p){var f=!a;if(a=!0,!f||s)try{c=n(c,p)}catch(h){return l.error(h)}else c=p},error:function(p){l.error(p)},complete:function(){if(!a&&!s)return l.error(new TypeError("Cannot reduce an empty sequence"));l.next(c),l.complete()}})})},e.concat=function(){for(var n=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];var a=Lt(this);return new a(function(u){var c,l=0;function p(f){c=f.subscribe({next:function(h){u.next(h)},error:function(h){u.error(h)},complete:function(){l===o.length?(c=void 0,u.complete()):p(a.from(o[l++]))}})}return p(n),function(){c&&(c.unsubscribe(),c=void 0)}})},e.flatMap=function(n){var i=this;if(typeof n!="function")throw new TypeError(n+" is not a function");var o=Lt(this);return new o(function(s){var a=[],u=i.subscribe({next:function(l){if(n)try{l=n(l)}catch(f){return s.error(f)}var p=o.from(l).subscribe({next:function(f){s.next(f)},error:function(f){s.error(f)},complete:function(){var f=a.indexOf(p);f>=0&&a.splice(f,1),c()}});a.push(p)},error:function(l){s.error(l)},complete:function(){c()}});function c(){u.closed&&a.length===0&&s.complete()}return function(){a.forEach(function(l){return l.unsubscribe()}),u.unsubscribe()}})},e[An]=function(){return this},t.from=function(n){var i=typeof this=="function"?this:t;if(n==null)throw new TypeError(n+" is not an object");var o=wr(n,An);if(o){var s=o.call(n);if(Object(s)!==s)throw new TypeError(s+" is not an object");return Ju(s)&&s.constructor===i?s:new i(function(a){return s.subscribe(a)})}if(Mn("iterator")&&(o=wr(n,Hu),o))return new i(function(a){Sr(function(){if(!a.closed){for(var u=Wu(o.call(n)),c;!(c=u()).done;){var l=c.value;if(a.next(l),a.closed)return}a.complete()}})});if(Array.isArray(n))return new i(function(a){Sr(function(){if(!a.closed){for(var u=0;u<n.length;++u)if(a.next(n[u]),a.closed)return;a.complete()}})});throw new TypeError(n+" is not observable")},t.of=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=typeof this=="function"?this:t;return new s(function(a){Sr(function(){if(!a.closed){for(var u=0;u<i.length;++u)if(a.next(i[u]),a.closed)return;a.complete()}})})},Pn(t,null,[{key:_o,get:function(){return this}}]),t}();Ln()&&Object.defineProperty(A,Symbol("extensions"),{value:{symbol:An,hostReportError:ut},configurable:!0});function Vn(t){var e,r=t.Symbol;if(typeof r=="function")if(r.observable)e=r.observable;else{typeof r.for=="function"?e=r.for("https://github.com/benlesh/symbol-observable"):e=r("https://github.com/benlesh/symbol-observable");try{r.observable=e}catch{}}else e="@@observable";return e}var ct;typeof self<"u"?ct=self:typeof window<"u"?ct=window:typeof global<"u"?ct=global:typeof module<"u"?ct=module:ct=Function("return this")();var Bp=Vn(ct);var Ro=A.prototype,Ao="@@observable";Ro[Ao]||(Ro[Ao]=function(){return this});var Xu=Object.prototype.toString;function Dr(t){return Qn(t)}function Qn(t,e){switch(Xu.call(t)){case"[object Array]":{if(e=e||new Map,e.has(t))return e.get(t);var r=t.slice(0);return e.set(t,r),r.forEach(function(i,o){r[o]=Qn(i,e)}),r}case"[object Object]":{if(e=e||new Map,e.has(t))return e.get(t);var n=Object.create(Object.getPrototypeOf(t));return e.set(t,n),Object.keys(t).forEach(function(i){n[i]=Qn(t[i],e)}),n}default:return t}}function Zu(t){var e=new Set([t]);return e.forEach(function(r){R(r)&&ec(r)===r&&Object.getOwnPropertyNames(r).forEach(function(n){R(r[n])&&e.add(r[n])})}),t}function ec(t){if(globalThis.__DEV__!==!1&&!Object.isFrozen(t))try{Object.freeze(t)}catch(e){if(e instanceof TypeError)return null;throw e}return t}function Mt(t){return globalThis.__DEV__!==!1&&Zu(t),t}function Be(t,e,r){var n=[];t.forEach(function(i){return i[e]&&n.push(i)}),n.forEach(function(i){return i[e](r)})}function Nr(t,e,r){return new A(function(n){var i={then:function(u){return new Promise(function(c){return c(u())})}};function o(u,c){return function(l){if(u){var p=function(){return n.closed?0:u(l)};i=i.then(p,p).then(function(f){return n.next(f)},function(f){return n.error(f)})}else n[c](l)}}var s={next:o(e,"next"),error:o(r,"error"),complete:function(){i.then(function(){return n.complete()})}},a=t.subscribe(s);return function(){return a.unsubscribe()}})}function Ir(t){function e(r){Object.defineProperty(t,r,{value:A})}return Sn&&Symbol.species&&e(Symbol.species),e("@@species"),t}function Co(t){return t&&typeof t.then=="function"}var ze=function(t){B(e,t);function e(r){var n=t.call(this,function(i){return n.addObserver(i),function(){return n.removeObserver(i)}})||this;return n.observers=new Set,n.promise=new Promise(function(i,o){n.resolve=i,n.reject=o}),n.handlers={next:function(i){n.sub!==null&&(n.latest=["next",i],n.notify("next",i),Be(n.observers,"next",i))},error:function(i){var o=n.sub;o!==null&&(o&&setTimeout(function(){return o.unsubscribe()}),n.sub=null,n.latest=["error",i],n.reject(i),n.notify("error",i),Be(n.observers,"error",i))},complete:function(){var i=n,o=i.sub,s=i.sources,a=s===void 0?[]:s;if(o!==null){var u=a.shift();u?Co(u)?u.then(function(c){return n.sub=c.subscribe(n.handlers)}):n.sub=u.subscribe(n.handlers):(o&&setTimeout(function(){return o.unsubscribe()}),n.sub=null,n.latest&&n.latest[0]==="next"?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),Be(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(i){n.reject(i),n.sources=[],n.handlers.complete()},n.promise.catch(function(i){}),typeof r=="function"&&(r=[new A(r)]),Co(r)?r.then(function(i){return n.start(i)},n.handlers.error):n.start(r),n}return e.prototype.start=function(r){this.sub===void 0&&(this.sources=Array.from(r),this.handlers.complete())},e.prototype.deliverLastMessage=function(r){if(this.latest){var n=this.latest[0],i=r[n];i&&i.call(r,this.latest[1]),this.sub===null&&n==="next"&&r.complete&&r.complete()}},e.prototype.addObserver=function(r){this.observers.has(r)||(this.deliverLastMessage(r),this.observers.add(r))},e.prototype.removeObserver=function(r){this.observers.delete(r)&&this.observers.size<1&&this.handlers.complete()},e.prototype.notify=function(r,n){var i=this.nextResultListeners;i.size&&(this.nextResultListeners=new Set,i.forEach(function(o){return o(r,n)}))},e.prototype.beforeNext=function(r){var n=!1;this.nextResultListeners.add(function(i,o){n||(n=!0,r(i,o))})},e}(A);Ir(ze);function ke(t){return"incremental"in t}function tc(t){return"hasNext"in t&&"data"in t}function Po(t){return ke(t)||tc(t)}function Lo(t){return R(t)&&"payload"in t}function _r(t,e){var r=t,n=new X;return ke(e)&&W(e.incremental)&&e.incremental.forEach(function(i){for(var o=i.data,s=i.path,a=s.length-1;a>=0;--a){var u=s[a],c=!isNaN(+u),l=c?[]:{};l[u]=o,o=l}r=n.merge(r,o)}),r}function ft(t){var e=kr(t);return W(e)}function kr(t){var e=W(t.errors)?t.errors.slice(0):[];return ke(t)&&W(t.incremental)&&t.incremental.forEach(function(r){r.errors&&e.push.apply(e,r.errors)}),e}function me(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object.create(null);return t.forEach(function(n){n&&Object.keys(n).forEach(function(i){var o=n[i];o!==void 0&&(r[i]=o)})}),r}function jt(t,e){return me(t,e,e.variables&&{variables:me(m(m({},t&&t.variables),e.variables))})}function Vt(t){return new A(function(e){e.error(t)})}var Qt=function(t,e,r){var n=new Error(r);throw n.name="ServerError",n.response=t,n.statusCode=t.status,n.result=e,n};function qn(t){for(var e=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];if(e.indexOf(i)<0)throw L(43,i)}return t}function Un(t,e){var r=m({},t),n=function(o){typeof o=="function"?r=m(m({},r),o(r)):r=m(m({},r),o)},i=function(){return m({},r)};return Object.defineProperty(e,"setContext",{enumerable:!1,value:n}),Object.defineProperty(e,"getContext",{enumerable:!1,value:i}),e}function Bn(t){var e={variables:t.variables||{},extensions:t.extensions||{},operationName:t.operationName,query:t.query};return e.operationName||(e.operationName=typeof e.query!="string"?ot(e.query)||void 0:""),e}function zn(t,e){var r=m({},t),n=new Set(Object.keys(t));return J(e,{Variable:function(i,o,s){s&&s.kind!=="VariableDefinition"&&n.delete(i.name.value)}}),n.forEach(function(i){delete r[i]}),r}function Mo(t,e){return e?e(t):A.of()}function qt(t){return typeof t=="function"?new ye(t):t}function Fr(t){return t.request.length<=1}var ye=function(){function t(e){e&&(this.request=e)}return t.empty=function(){return new t(function(){return A.of()})},t.from=function(e){return e.length===0?t.empty():e.map(qt).reduce(function(r,n){return r.concat(n)})},t.split=function(e,r,n){var i=qt(r),o=qt(n||new t(Mo));return Fr(i)&&Fr(o)?new t(function(s){return e(s)?i.request(s)||A.of():o.request(s)||A.of()}):new t(function(s,a){return e(s)?i.request(s,a)||A.of():o.request(s,a)||A.of()})},t.execute=function(e,r){return e.request(Un(r.context,Bn(qn(r))))||A.of()},t.concat=function(e,r){var n=qt(e);if(Fr(n))return globalThis.__DEV__!==!1&&w.warn(35,n),n;var i=qt(r);return Fr(i)?new t(function(o){return n.request(o,function(s){return i.request(s)||A.of()})||A.of()}):new t(function(o,s){return n.request(o,function(a){return i.request(a,s)||A.of()})||A.of()})},t.prototype.split=function(e,r,n){return this.concat(t.split(e,r,n||new t(Mo)))},t.prototype.concat=function(e){return t.concat(this,e)},t.prototype.request=function(e,r){throw L(36)},t.prototype.onError=function(e,r){if(r&&r.error)return r.error(e),!1;throw e},t.prototype.setOnError=function(e){return this.onError=e,this},t}();var lt=ye.execute;function Wn(t){var e,r=t[Symbol.asyncIterator]();return e={next:function(){return r.next()}},e[Symbol.asyncIterator]=function(){return this},e}function Gn(t){var e=null,r=null,n=!1,i=[],o=[];function s(p){if(!r){if(o.length){var f=o.shift();if(Array.isArray(f)&&f[0])return f[0]({value:p,done:!1})}i.push(p)}}function a(p){r=p;var f=o.slice();f.forEach(function(h){h[1](p)}),!e||e()}function u(){n=!0;var p=o.slice();p.forEach(function(f){f[0]({value:void 0,done:!0})}),!e||e()}e=function(){e=null,t.removeListener("data",s),t.removeListener("error",a),t.removeListener("end",u),t.removeListener("finish",u),t.removeListener("close",u)},t.on("data",s),t.on("error",a),t.on("end",u),t.on("finish",u),t.on("close",u);function c(){return new Promise(function(p,f){if(r)return f(r);if(i.length)return p({value:i.shift(),done:!1});if(n)return p({value:void 0,done:!0});o.push([p,f])})}var l={next:function(){return c()}};return Ne&&(l[Symbol.asyncIterator]=function(){return this}),l}function Hn(t){var e=!1,r={next:function(){return e?Promise.resolve({value:void 0,done:!0}):(e=!0,new Promise(function(n,i){t.then(function(o){n({value:o,done:!1})}).catch(i)}))}};return Ne&&(r[Symbol.asyncIterator]=function(){return this}),r}function Rr(t){var e={next:function(){return t.read()}};return Ne&&(e[Symbol.asyncIterator]=function(){return this}),e}function rc(t){return!!t.body}function nc(t){return!!t.getReader}function ic(t){return!!(Ne&&t[Symbol.asyncIterator])}function oc(t){return!!t.stream}function sc(t){return!!t.arrayBuffer}function ac(t){return!!t.pipe}function jo(t){var e=t;if(rc(t)&&(e=t.body),ic(e))return Wn(e);if(nc(e))return Rr(e.getReader());if(oc(e))return Rr(e.stream().getReader());if(sc(e))return Hn(e.arrayBuffer());if(ac(e))return Gn(e);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var Ut=Symbol();function Vo(t){return t.extensions?Array.isArray(t.extensions[Ut]):!1}function Qo(t){return t.hasOwnProperty("graphQLErrors")}var uc=function(t){var e=ie(ie(ie([],t.graphQLErrors,!0),t.clientErrors,!0),t.protocolErrors,!0);return t.networkError&&e.push(t.networkError),e.map(function(r){return R(r)&&r.message||"Error message not found."}).join(`
`)},We=function(t){B(e,t);function e(r){var n=r.graphQLErrors,i=r.protocolErrors,o=r.clientErrors,s=r.networkError,a=r.errorMessage,u=r.extraInfo,c=t.call(this,a)||this;return c.name="ApolloError",c.graphQLErrors=n||[],c.protocolErrors=i||[],c.clientErrors=o||[],c.networkError=s||null,c.message=a||uc(c),c.extraInfo=u,c.__proto__=e.prototype,c}return e}(Error);var qo=Object.prototype.hasOwnProperty;function Uo(t,e){var r;return oe(this,void 0,void 0,function(){var n,i,o,s,a,u,c,l,p,f,h,y,g,v,d,T,b,x,N,O,I,_,V;return se(this,function(Q){switch(Q.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");n=new TextDecoder("utf-8"),i=(r=t.headers)===null||r===void 0?void 0:r.get("content-type"),o="boundary=",s=i?.includes(o)?i?.substring(i?.indexOf(o)+o.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",a=`\r
--`.concat(s),u="",c=jo(t),l=!0,Q.label=1;case 1:return l?[4,c.next()]:[3,3];case 2:for(p=Q.sent(),f=p.value,h=p.done,y=typeof f=="string"?f:n.decode(f),g=u.length-a.length+1,l=!h,u+=y,v=u.indexOf(a,g);v>-1;){if(d=void 0,_=[u.slice(0,v),u.slice(v+a.length)],d=_[0],u=_[1],T=d.indexOf(`\r
\r
`),b=cc(d.slice(0,T)),x=b["content-type"],x&&x.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");if(N=d.slice(T),N){if(O=Bo(t,N),Object.keys(O).length>1||"data"in O||"incremental"in O||"errors"in O||"payload"in O)Lo(O)?(I={},"payload"in O&&(I=m({},O.payload)),"errors"in O&&(I=m(m({},I),{extensions:m(m({},"extensions"in I?I.extensions:null),(V={},V[Ut]=O.errors,V))})),e(I)):e(O);else if(Object.keys(O).length===1&&"hasNext"in O&&!O.hasNext)return[2]}v=u.indexOf(a)}return[3,1];case 3:return[2]}})})}function cc(t){var e={};return t.split(`
`).forEach(function(r){var n=r.indexOf(":");if(n>-1){var i=r.slice(0,n).trim().toLowerCase(),o=r.slice(n+1).trim();e[i]=o}}),e}function Bo(t,e){if(t.status>=300){var r=function(){try{return JSON.parse(e)}catch{return e}};Qt(t,r(),"Response not successful: Received status code ".concat(t.status))}try{return JSON.parse(e)}catch(i){var n=i;throw n.name="ServerParseError",n.response=t,n.statusCode=t.status,n.bodyText=e,n}}function zo(t,e){t.result&&t.result.errors&&t.result.data&&e.next(t.result),e.error(t)}function Wo(t){return function(e){return e.text().then(function(r){return Bo(e,r)}).then(function(r){return e.status>=300&&Qt(e,r,"Response not successful: Received status code ".concat(e.status)),!Array.isArray(r)&&!qo.call(r,"data")&&!qo.call(r,"errors")&&Qt(e,r,"Server response was missing for query '".concat(Array.isArray(t)?t.map(function(n){return n.operationName}):t.operationName,"'.")),r})}}var Bt=function(t,e){var r;try{r=JSON.stringify(t)}catch(i){var n=L(39,e,i.message);throw n.parseError=i,n}return r};var fc={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},lc={accept:"*/*","content-type":"application/json"},pc={method:"POST"},Go={http:fc,headers:lc,options:pc},Ho=function(t,e){return e(t)};function Jo(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={},o={};r.forEach(function(p){i=m(m(m({},i),p.options),{headers:m(m({},i.headers),p.headers)}),p.credentials&&(i.credentials=p.credentials),o=m(m({},o),p.http)}),i.headers&&(i.headers=hc(i.headers,o.preserveHeaderCase));var s=t.operationName,a=t.extensions,u=t.variables,c=t.query,l={operationName:s,variables:u};return o.includeExtensions&&(l.extensions=a),o.includeQuery&&(l.query=e(c,At)),{options:i,body:l}}function hc(t,e){if(!e){var r=Object.create(null);return Object.keys(Object(t)).forEach(function(o){r[o.toLowerCase()]=t[o]}),r}var n=Object.create(null);Object.keys(Object(t)).forEach(function(o){n[o.toLowerCase()]={originalName:o,value:t[o]}});var i=Object.create(null);return Object.keys(n).forEach(function(o){i[n[o].originalName]=n[o].value}),i}var Yo=function(t){if(!t&&typeof fetch>"u")throw L(37)};var Ko=function(t,e){var r=t.getContext(),n=r.uri;return n||(typeof e=="function"?e(t):e||"/graphql")};function $o(t,e){var r=[],n=function(p,f){r.push("".concat(p,"=").concat(encodeURIComponent(f)))};if("query"in e&&n("query",e.query),e.operationName&&n("operationName",e.operationName),e.variables){var i=void 0;try{i=Bt(e.variables,"Variables map")}catch(p){return{parseError:p}}n("variables",i)}if(e.extensions){var o=void 0;try{o=Bt(e.extensions,"Extensions map")}catch(p){return{parseError:p}}n("extensions",o)}var s="",a=t,u=t.indexOf("#");u!==-1&&(s=t.substr(u),a=t.substr(0,u));var c=a.indexOf("?")===-1?"?":"&",l=a+c+r.join("&")+s;return{newURI:l}}var Xo=H(function(){return fetch}),Zo=function(t){t===void 0&&(t={});var e=t.uri,r=e===void 0?"/graphql":e,n=t.fetch,i=t.print,o=i===void 0?Ho:i,s=t.includeExtensions,a=t.preserveHeaderCase,u=t.useGETForQueries,c=t.includeUnusedVariables,l=c===void 0?!1:c,p=Z(t,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);globalThis.__DEV__!==!1&&Yo(n||Xo);var f={http:{includeExtensions:s,preserveHeaderCase:a},options:p.fetchOptions,credentials:p.credentials,headers:p.headers};return new ye(function(h){var y=Ko(h,r),g=h.getContext(),v={};if(g.clientAwareness){var d=g.clientAwareness,T=d.name,b=d.version;T&&(v["apollographql-client-name"]=T),b&&(v["apollographql-client-version"]=b)}var x=m(m({},v),g.headers),N={http:g.http,options:g.fetchOptions,credentials:g.credentials,headers:x};if(ge(["client"],h.query)){var O=Ct(h.query);if(!O)return Vt(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));h.query=O}var I=Jo(h,o,Go,f,N),_=I.options,V=I.body;V.variables&&!l&&(V.variables=zn(V.variables,h.query));var Q;!_.signal&&typeof AbortController<"u"&&(Q=new AbortController,_.signal=Q.signal);var z=function(ne){return ne.kind==="OperationDefinition"&&ne.operation==="mutation"},ve=function(ne){return ne.kind==="OperationDefinition"&&ne.operation==="subscription"},Xr=ve(le(h.query)),Zr=ge(["defer"],h.query);if(u&&!h.query.definitions.some(z)&&(_.method="GET"),Zr||Xr){_.headers=_.headers||{};var en="multipart/mixed;";Xr&&Zr&&globalThis.__DEV__!==!1&&w.warn(38),Xr?en+="boundary=graphql;subscriptionSpec=1.0,application/json":Zr&&(en+="deferSpec=20220824,application/json"),_.headers.accept=en}if(_.method==="GET"){var Si=$o(y,V),ha=Si.newURI,wi=Si.parseError;if(wi)return Vt(wi);y=ha}else try{_.body=Bt(V,"Payload")}catch(ne){return Vt(ne)}return new A(function(ne){var da=n||H(function(){return fetch})||Xo,Di=ne.next.bind(ne);return da(y,_).then(function(Ke){var tn;h.setContext({response:Ke});var Ni=(tn=Ke.headers)===null||tn===void 0?void 0:tn.get("content-type");return Ni!==null&&/^multipart\/mixed/i.test(Ni)?Uo(Ke,Di):Wo(h)(Ke).then(Di)}).then(function(){Q=void 0,ne.complete()}).catch(function(Ke){Q=void 0,zo(Ke,ne)}),function(){Q&&Q.abort()}})})};var Jn=function(t){B(e,t);function e(r){r===void 0&&(r={});var n=t.call(this,Zo(r).request)||this;return n.options=r,n}return e}(ye);var{toString:es,hasOwnProperty:dc}=Object.prototype,ts=Function.prototype.toString,Yn=new Map;function M(t,e){try{return Kn(t,e)}finally{Yn.clear()}}var $n=M;function Kn(t,e){if(t===e)return!0;let r=es.call(t),n=es.call(e);if(r!==n)return!1;switch(r){case"[object Array]":if(t.length!==e.length)return!1;case"[object Object]":{if(ns(t,e))return!0;let i=rs(t),o=rs(e),s=i.length;if(s!==o.length)return!1;for(let a=0;a<s;++a)if(!dc.call(e,i[a]))return!1;for(let a=0;a<s;++a){let u=i[a];if(!Kn(t[u],e[u]))return!1}return!0}case"[object Error]":return t.name===e.name&&t.message===e.message;case"[object Number]":if(t!==t)return e!==e;case"[object Boolean]":case"[object Date]":return+t==+e;case"[object RegExp]":case"[object String]":return t==`${e}`;case"[object Map]":case"[object Set]":{if(t.size!==e.size)return!1;if(ns(t,e))return!0;let i=t.entries(),o=r==="[object Map]";for(;;){let s=i.next();if(s.done)break;let[a,u]=s.value;if(!e.has(a)||o&&!Kn(u,e.get(a)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":t=new Uint8Array(t),e=new Uint8Array(e);case"[object DataView]":{let i=t.byteLength;if(i===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{let i=ts.call(t);return i!==ts.call(e)?!1:!vc(i,yc)}}return!1}function rs(t){return Object.keys(t).filter(mc,t)}function mc(t){return this[t]!==void 0}var yc="{ [native code] }";function vc(t,e){let r=t.length-e.length;return r>=0&&t.indexOf(e,r)===r}function ns(t,e){let r=Yn.get(t);if(r){if(r.has(e))return!0}else Yn.set(t,r=new Set);return r.add(e),!1}var gc=()=>Object.create(null),{forEach:bc,slice:Ec}=Array.prototype,{hasOwnProperty:Tc}=Object.prototype,Ar=class t{constructor(e=!0,r=gc){this.weakness=e,this.makeData=r}lookup(...e){return this.lookupArray(e)}lookupArray(e){let r=this;return bc.call(e,n=>r=r.getChildTrie(n)),Tc.call(r,"data")?r.data:r.data=this.makeData(Ec.call(e))}peek(...e){return this.peekArray(e)}peekArray(e){let r=this;for(let n=0,i=e.length;r&&n<i;++n){let o=this.weakness&&is(e[n])?r.weak:r.strong;r=o&&o.get(e[n])}return r&&r.data}getChildTrie(e){let r=this.weakness&&is(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),n=r.get(e);return n||r.set(e,n=new t(this.weakness,this.makeData)),n}};function is(t){switch(typeof t){case"object":if(t===null)break;case"function":return!0}return!1}function xc(){}var zt=class{constructor(e=1/0,r=xc){this.max=e,this.dispose=r,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){let r=this.getNode(e);return r&&r.value}get size(){return this.map.size}getNode(e){let r=this.map.get(e);if(r&&r!==this.newest){let{older:n,newer:i}=r;i&&(i.older=n),n&&(n.newer=i),r.older=this.newest,r.older.newer=r,r.newer=null,this.newest=r,r===this.oldest&&(this.oldest=i)}return r}set(e,r){let n=this.getNode(e);return n?n.value=r:(n={key:e,value:r,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){let r=this.map.get(e);return r?(r===this.newest&&(this.newest=r.older),r===this.oldest&&(this.oldest=r.newer),r.newer&&(r.newer.older=r.older),r.older&&(r.older.newer=r.newer),this.map.delete(e),this.dispose(r.value,e),!0):!1}};var G=null,os={},Oc=1,Sc=()=>class{constructor(){this.id=["slot",Oc++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=G;e;e=e.parent)if(this.id in e.slots){let r=e.slots[this.id];if(r===os)break;return e!==G&&(G.slots[this.id]=r),!0}return G&&(G.slots[this.id]=os),!1}getValue(){if(this.hasValue())return G.slots[this.id]}withValue(e,r,n,i){let o={__proto__:null,[this.id]:e},s=G;G={parent:s,slots:o};try{return r.apply(i,n)}finally{G=s}}static bind(e){let r=G;return function(){let n=G;try{return G=r,e.apply(this,arguments)}finally{G=n}}}static noContext(e,r,n){if(G){let i=G;try{return G=null,e.apply(n,r)}finally{G=i}}else return e.apply(n,r)}};function ss(t){try{return t()}catch{}}var Xn="@wry/context:Slot",wc=ss(()=>globalThis)||ss(()=>global)||Object.create(null),as=wc,Ge=as[Xn]||Array[Xn]||function(t){try{Object.defineProperty(as,Xn,{value:t,enumerable:!1,writable:!1,configurable:!0})}finally{return t}}(Sc());var{bind:us,noContext:cs}=Ge;var He=new Ge;var{hasOwnProperty:fs}=Object.prototype,Wt=Array.from||function(t){let e=[];return t.forEach(r=>e.push(r)),e};function pt(t){let{unsubscribe:e}=t;typeof e=="function"&&(t.unsubscribe=void 0,e())}var Gt=[],Ic=100;function ht(t,e){if(!t)throw new Error(e||"assertion failure")}function ps(t,e){let r=t.length;return r>0&&r===e.length&&t[r-1]===e[r-1]}function hs(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function ds(t){return t.slice(0)}var ms=(()=>{class t{constructor(r){this.fn=r,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++t.count}peek(){if(this.value.length===1&&!Fe(this))return ls(this),this.value[0]}recompute(r){return ht(!this.recomputing,"already recomputing"),ls(this),Fe(this)?_c(this,r):hs(this.value)}setDirty(){this.dirty||(this.dirty=!0,ys(this),pt(this))}dispose(){this.setDirty(),Ts(this),Zn(this,(r,n)=>{r.setDirty(),xs(r,this)})}forget(){this.dispose()}dependOn(r){r.add(this),this.deps||(this.deps=Gt.pop()||new Set),this.deps.add(r)}forgetDeps(){this.deps&&(Wt(this.deps).forEach(r=>r.delete(this)),this.deps.clear(),Gt.push(this.deps),this.deps=null)}}return t.count=0,t})();function ls(t){let e=He.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),Fe(t)?gs(e,t):bs(e,t),e}function _c(t,e){return Ts(t),He.withValue(t,kc,[t,e]),Rc(t,e)&&Fc(t),hs(t.value)}function kc(t,e){t.recomputing=!0;let{normalizeResult:r}=t,n;r&&t.value.length===1&&(n=ds(t.value)),t.value.length=0;try{if(t.value[0]=t.fn.apply(null,e),r&&n&&!ps(n,t.value))try{t.value[0]=r(t.value[0],n[0])}catch{}}catch(i){t.value[1]=i}t.recomputing=!1}function Fe(t){return t.dirty||!!(t.dirtyChildren&&t.dirtyChildren.size)}function Fc(t){t.dirty=!1,!Fe(t)&&vs(t)}function ys(t){Zn(t,gs)}function vs(t){Zn(t,bs)}function Zn(t,e){let r=t.parents.size;if(r){let n=Wt(t.parents);for(let i=0;i<r;++i)e(n[i],t)}}function gs(t,e){ht(t.childValues.has(e)),ht(Fe(e));let r=!Fe(t);if(!t.dirtyChildren)t.dirtyChildren=Gt.pop()||new Set;else if(t.dirtyChildren.has(e))return;t.dirtyChildren.add(e),r&&ys(t)}function bs(t,e){ht(t.childValues.has(e)),ht(!Fe(e));let r=t.childValues.get(e);r.length===0?t.childValues.set(e,ds(e.value)):ps(r,e.value)||t.setDirty(),Es(t,e),!Fe(t)&&vs(t)}function Es(t,e){let r=t.dirtyChildren;r&&(r.delete(e),r.size===0&&(Gt.length<Ic&&Gt.push(r),t.dirtyChildren=null))}function Ts(t){t.childValues.size>0&&t.childValues.forEach((e,r)=>{xs(t,r)}),t.forgetDeps(),ht(t.dirtyChildren===null)}function xs(t,e){e.parents.delete(t),t.childValues.delete(e),Es(t,e)}function Rc(t,e){if(typeof t.subscribe=="function")try{pt(t),t.unsubscribe=t.subscribe.apply(null,e)}catch{return t.setDirty(),!1}return!0}var Ac={setDirty:!0,dispose:!0,forget:!0};function Ht(t){let e=new Map,r=t&&t.subscribe;function n(i){let o=He.getValue();if(o){let s=e.get(i);s||e.set(i,s=new Set),o.dependOn(s),typeof r=="function"&&(pt(s),s.unsubscribe=r(i))}}return n.dirty=function(o,s){let a=e.get(o);if(a){let u=s&&fs.call(Ac,s)?s:"setDirty";Wt(a).forEach(c=>c[u]()),e.delete(o),pt(a)}},n}var Os;function Cc(...t){return(Os||(Os=new Ar(typeof WeakMap=="function"))).lookupArray(t)}var ei=new Set;function Je(t,{max:e=Math.pow(2,16),keyArgs:r,makeCacheKey:n=Cc,normalizeResult:i,subscribe:o,cache:s=zt}=Object.create(null)){let a=typeof s=="function"?new s(e,f=>f.dispose()):s,u=function(){let f=n.apply(null,r?r.apply(null,arguments):arguments);if(f===void 0)return t.apply(null,arguments);let h=a.get(f);h||(a.set(f,h=new ms(t)),h.normalizeResult=i,h.subscribe=o,h.forget=()=>a.delete(f));let y=h.recompute(Array.prototype.slice.call(arguments));return a.set(f,h),ei.add(a),He.hasValue()||(ei.forEach(g=>g.clean()),ei.clear()),y};Object.defineProperty(u,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(u.options={max:e,keyArgs:r,makeCacheKey:n,normalizeResult:i,subscribe:o,cache:a});function c(f){let h=f&&a.get(f);h&&h.setDirty()}u.dirtyKey=c,u.dirty=function(){c(n.apply(null,arguments))};function l(f){let h=f&&a.get(f);if(h)return h.peek()}u.peekKey=l,u.peek=function(){return l(n.apply(null,arguments))};function p(f){return f?a.delete(f):!1}return u.forgetKey=p,u.forget=function(){return p(n.apply(null,arguments))},u.makeCacheKey=n,u.getKey=r?function(){return n.apply(null,r.apply(null,arguments))}:n,Object.freeze(u)}var ti=function(){function t(){this.assumeImmutableResults=!1,this.getFragmentDoc=Je(wn)}return t.prototype.batch=function(e){var r=this,n=typeof e.optimistic=="string"?e.optimistic:e.optimistic===!1?null:void 0,i;return this.performTransaction(function(){return i=e.update(r)},n),i},t.prototype.recordOptimisticTransaction=function(e,r){this.performTransaction(e,r)},t.prototype.transformDocument=function(e){return e},t.prototype.transformForLink=function(e){return e},t.prototype.identify=function(e){},t.prototype.gc=function(){return[]},t.prototype.modify=function(e){return!1},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!!e.optimistic),this.read(m(m({},e),{rootId:e.id||"ROOT_QUERY",optimistic:r}))},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!!e.optimistic),this.read(m(m({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:r}))},t.prototype.writeQuery=function(e){var r=e.id,n=e.data,i=Z(e,["id","data"]);return this.write(Object.assign(i,{dataId:r||"ROOT_QUERY",result:n}))},t.prototype.writeFragment=function(e){var r=e.id,n=e.data,i=e.fragment,o=e.fragmentName,s=Z(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(i,o),dataId:r,result:n}))},t.prototype.updateQuery=function(e,r){return this.batch({update:function(n){var i=n.readQuery(e),o=r(i);return o==null?i:(n.writeQuery(m(m({},e),{data:o})),o)}})},t.prototype.updateFragment=function(e,r){return this.batch({update:function(n){var i=n.readFragment(e),o=r(i);return o==null?i:(n.writeFragment(m(m({},e),{data:o})),o)}})},t}();var Jt=function(t){B(e,t);function e(r,n,i,o){var s,a=t.call(this,r)||this;if(a.message=r,a.path=n,a.query=i,a.variables=o,Array.isArray(a.path)){a.missing=a.message;for(var u=a.path.length-1;u>=0;--u)a.missing=(s={},s[a.path[u]]=a.missing,s)}else a.missing=a.path;return a.__proto__=e.prototype,a}return e}(Error);var j=Object.prototype.hasOwnProperty;function Yt(t){return t==null}function Pr(t,e){var r=t.__typename,n=t.id,i=t._id;if(typeof r=="string"&&(e&&(e.keyObject=Yt(n)?Yt(i)?void 0:{_id:i}:{id:n}),Yt(n)&&!Yt(i)&&(n=i),!Yt(n)))return"".concat(r,":").concat(typeof n=="number"||typeof n=="string"?n:JSON.stringify(n))}var Ss={dataIdFromObject:Pr,addTypename:!0,resultCaching:!0,canonizeResults:!1};function ws(t){return me(Ss,t)}function Lr(t){var e=t.canonizeResults;return e===void 0?Ss.canonizeResults:e}function Ds(t,e){return k(e)?t.get(e.__ref,"__typename"):e&&e.__typename}var ri=/^[_a-z][_0-9a-z]*/i;function pe(t){var e=t.match(ri);return e?e[0]:t}function Cr(t,e,r){return R(e)?P(e)?e.every(function(n){return Cr(t,n,r)}):t.selections.every(function(n){if(K(n)&&ue(n,r)){var i=$(n);return j.call(e,i)&&(!n.selectionSet||Cr(n.selectionSet,e[i],r))}return!0}):!1}function Re(t){return R(t)&&!k(t)&&!P(t)}function Ns(){return new X}function Mr(t,e){var r=be(xe(t));return{fragmentMap:r,lookupFragment:function(n){var i=r[n];return!i&&e&&(i=e.lookup(n)),i||null}}}var jr=Object.create(null),ni=function(){return jr},Is=Object.create(null),dt=function(){function t(e,r){var n=this;this.policies=e,this.group=r,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(i,o){return Mt(k(i)?n.get(i.__ref,o):i&&i[o])},this.canRead=function(i){return k(i)?n.has(i.__ref):typeof i=="object"},this.toReference=function(i,o){if(typeof i=="string")return fe(i);if(k(i))return i;var s=n.policies.identify(i)[0];if(s){var a=fe(s);return o&&n.merge(s,i),a}}}return t.prototype.toObject=function(){return m({},this.data)},t.prototype.has=function(e){return this.lookup(e,!0)!==void 0},t.prototype.get=function(e,r){if(this.group.depend(e,r),j.call(this.data,e)){var n=this.data[e];if(n&&j.call(n,r))return n[r]}if(r==="__typename"&&j.call(this.policies.rootTypenamesById,e))return this.policies.rootTypenamesById[e];if(this instanceof Ae)return this.parent.get(e,r)},t.prototype.lookup=function(e,r){if(r&&this.group.depend(e,"__exists"),j.call(this.data,e))return this.data[e];if(this instanceof Ae)return this.parent.lookup(e,r);if(this.policies.rootTypenamesById[e])return Object.create(null)},t.prototype.merge=function(e,r){var n=this,i;k(e)&&(e=e.__ref),k(r)&&(r=r.__ref);var o=typeof e=="string"?this.lookup(i=e):e,s=typeof r=="string"?this.lookup(i=r):r;if(s){w(typeof i=="string",1);var a=new X(Lc).merge(o,s);if(this.data[i]=a,a!==o&&(delete this.refs[i],this.group.caching)){var u=Object.create(null);o||(u.__exists=1),Object.keys(s).forEach(function(c){if(!o||o[c]!==a[c]){u[c]=1;var l=pe(c);l!==c&&!n.policies.hasKeyArgs(a.__typename,l)&&(u[l]=1),a[c]===void 0&&!(n instanceof Ae)&&delete a[c]}}),u.__typename&&!(o&&o.__typename)&&this.policies.rootTypenamesById[i]===a.__typename&&delete u.__typename,Object.keys(u).forEach(function(c){return n.group.dirty(i,c)})}}},t.prototype.modify=function(e,r){var n=this,i=this.lookup(e);if(i){var o=Object.create(null),s=!1,a=!0,u={DELETE:jr,INVALIDATE:Is,isReference:k,toReference:this.toReference,canRead:this.canRead,readField:function(c,l){return n.policies.readField(typeof c=="string"?{fieldName:c,from:l||fe(e)}:c,{store:n})}};if(Object.keys(i).forEach(function(c){var l=pe(c),p=i[c];if(p!==void 0){var f=typeof r=="function"?r:r[c]||r[l];if(f){var h=f===ni?jr:f(Mt(p),m(m({},u),{fieldName:l,storeFieldName:c,storage:n.getStorage(e,c)}));if(h===Is)n.group.dirty(e,c);else if(h===jr&&(h=void 0),h!==p&&(o[c]=h,s=!0,p=h,globalThis.__DEV__!==!1)){var y=function(N){if(n.lookup(N.__ref)===void 0)return globalThis.__DEV__!==!1&&w.warn(2,N),!0};if(k(h))y(h);else if(Array.isArray(h))for(var g=!1,v=void 0,d=0,T=h;d<T.length;d++){var b=T[d];if(k(b)){if(g=!0,y(b))break}else if(typeof b=="object"&&b){var x=n.policies.identify(b)[0];x&&(v=b)}if(g&&v!==void 0){globalThis.__DEV__!==!1&&w.warn(3,v);break}}}}p!==void 0&&(a=!1)}}),s)return this.merge(e,o),a&&(this instanceof Ae?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},t.prototype.delete=function(e,r,n){var i,o=this.lookup(e);if(o){var s=this.getFieldValue(o,"__typename"),a=r&&n?this.policies.getStoreFieldName({typename:s,fieldName:r,args:n}):r;return this.modify(e,a?(i={},i[a]=ni,i):ni)}return!1},t.prototype.evict=function(e,r){var n=!1;return e.id&&(j.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof Ae&&this!==r&&(n=this.parent.evict(e,r)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},t.prototype.clear=function(){this.replace(null)},t.prototype.extract=function(){var e=this,r=this.toObject(),n=[];return this.getRootIdSet().forEach(function(i){j.call(e.policies.rootTypenamesById,i)||n.push(i)}),n.length&&(r.__META={extraRootIds:n.sort()}),r},t.prototype.replace=function(e){var r=this;if(Object.keys(this.data).forEach(function(o){e&&j.call(e,o)||r.delete(o)}),e){var n=e.__META,i=Z(e,["__META"]);Object.keys(i).forEach(function(o){r.merge(o,i[o])}),n&&n.extraRootIds.forEach(this.retain,this)}},t.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},t.prototype.release=function(e){if(this.rootIds[e]>0){var r=--this.rootIds[e];return r||delete this.rootIds[e],r}return 0},t.prototype.getRootIdSet=function(e){return e===void 0&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof Ae?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},t.prototype.gc=function(){var e=this,r=this.getRootIdSet(),n=this.toObject();r.forEach(function(s){j.call(n,s)&&(Object.keys(e.findChildRefIds(s)).forEach(r.add,r),delete n[s])});var i=Object.keys(n);if(i.length){for(var o=this;o instanceof Ae;)o=o.parent;i.forEach(function(s){return o.delete(s)})}return i},t.prototype.findChildRefIds=function(e){if(!j.call(this.refs,e)){var r=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return r;var i=new Set([n]);i.forEach(function(o){k(o)&&(r[o.__ref]=!0),R(o)&&Object.keys(o).forEach(function(s){var a=o[s];R(a)&&i.add(a)})})}return this.refs[e]},t.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},t}();var _s=function(){function t(e,r){r===void 0&&(r=null),this.caching=e,this.parent=r,this.d=null,this.resetCaching()}return t.prototype.resetCaching=function(){this.d=this.caching?Ht():null,this.keyMaker=new ce(Y)},t.prototype.depend=function(e,r){if(this.d){this.d(ii(e,r));var n=pe(r);n!==r&&this.d(ii(e,n)),this.parent&&this.parent.depend(e,r)}},t.prototype.dirty=function(e,r){this.d&&this.d.dirty(ii(e,r),r==="__exists"?"forget":"setDirty")},t}();function ii(t,e){return e+"#"+t}function oi(t,e){Ye(t)&&t.group.depend(e,"__exists")}(function(t){var e=function(r){B(n,r);function n(i){var o=i.policies,s=i.resultCaching,a=s===void 0?!0:s,u=i.seed,c=r.call(this,o,new _s(a))||this;return c.stump=new Pc(c),c.storageTrie=new ce(Y),u&&c.replace(u),c}return n.prototype.addLayer=function(i,o){return this.stump.addLayer(i,o)},n.prototype.removeLayer=function(){return this},n.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},n}(t);t.Root=e})(dt||(dt={}));var Ae=function(t){B(e,t);function e(r,n,i,o){var s=t.call(this,n.policies,o)||this;return s.id=r,s.parent=n,s.replay=i,s.group=o,i(s),s}return e.prototype.addLayer=function(r,n){return new e(r,this,n,this.group)},e.prototype.removeLayer=function(r){var n=this,i=this.parent.removeLayer(r);return r===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(o){var s=n.data[o],a=i.lookup(o);a?s?s!==a&&Object.keys(s).forEach(function(u){M(s[u],a[u])||n.group.dirty(o,u)}):(n.group.dirty(o,"__exists"),Object.keys(a).forEach(function(u){n.group.dirty(o,u)})):n.delete(o)}),i):i===this.parent?this:i.addLayer(this.id,this.replay)},e.prototype.toObject=function(){return m(m({},this.parent.toObject()),this.data)},e.prototype.findChildRefIds=function(r){var n=this.parent.findChildRefIds(r);return j.call(this.data,r)?m(m({},n),t.prototype.findChildRefIds.call(this,r)):n},e.prototype.getStorage=function(){for(var r=this.parent;r.parent;)r=r.parent;return r.getStorage.apply(r,arguments)},e}(dt),Pc=function(t){B(e,t);function e(r){return t.call(this,"EntityStore.Stump",r,function(){},new _s(r.group.caching,r.group))||this}return e.prototype.removeLayer=function(){return this},e.prototype.merge=function(r,n){return this.parent.merge(r,n)},e}(Ae);function Lc(t,e,r){var n=t[r],i=e[r];return M(n,i)?n:i}function Ye(t){return!!(t instanceof dt&&t.group.caching)}function Mc(t){return R(t)?P(t)?t.slice(0):m({__proto__:Object.getPrototypeOf(t)},t):t}var Vr=function(){function t(){this.known=new(xr?WeakSet:Set),this.pool=new ce(Y),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return t.prototype.isKnown=function(e){return R(e)&&this.known.has(e)},t.prototype.pass=function(e){if(R(e)){var r=Mc(e);return this.passes.set(r,e),r}return e},t.prototype.admit=function(e){var r=this;if(R(e)){var n=this.passes.get(e);if(n)return n;var i=Object.getPrototypeOf(e);switch(i){case Array.prototype:{if(this.known.has(e))return e;var o=e.map(this.admit,this),s=this.pool.lookupArray(o);return s.array||(this.known.add(s.array=o),globalThis.__DEV__!==!1&&Object.freeze(o)),s.array}case null:case Object.prototype:{if(this.known.has(e))return e;var a=Object.getPrototypeOf(e),u=[a],c=this.sortedKeys(e);u.push(c.json);var l=u.length;c.sorted.forEach(function(h){u.push(r.admit(e[h]))});var s=this.pool.lookupArray(u);if(!s.object){var p=s.object=Object.create(a);this.known.add(p),c.sorted.forEach(function(h,y){p[h]=u[l+y]}),globalThis.__DEV__!==!1&&Object.freeze(p)}return s.object}}}return e},t.prototype.sortedKeys=function(e){var r=Object.keys(e),n=this.pool.lookupArray(r);if(!n.keys){r.sort();var i=JSON.stringify(r);(n.keys=this.keysByJSON.get(i))||this.keysByJSON.set(i,n.keys={sorted:r,json:i})}return n.keys},t}();var re=Object.assign(function(t){if(R(t)){si===void 0&&ks();var e=si.admit(t),r=ai.get(e);return r===void 0&&ai.set(e,r=JSON.stringify(e)),r}return JSON.stringify(t)},{reset:ks}),si,ai;function ks(){si=new Vr,ai=new(Y?WeakMap:Map)}function Fs(t){return[t.selectionSet,t.objectOrReference,t.context,t.context.canonizeResults]}var Rs=function(){function t(e){var r=this;this.knownResults=new(Y?WeakMap:Map),this.config=me(e,{addTypename:e.addTypename!==!1,canonizeResults:Lr(e)}),this.canon=e.canon||new Vr,this.executeSelectionSet=Je(function(n){var i,o=n.context.canonizeResults,s=Fs(n);s[3]=!o;var a=(i=r.executeSelectionSet).peek.apply(i,s);return a?o?m(m({},a),{result:r.canon.admit(a.result)}):a:(oi(n.context.store,n.enclosingRef.__ref),r.execSelectionSetImpl(n))},{max:this.config.resultCacheMaxSize,keyArgs:Fs,makeCacheKey:function(n,i,o,s){if(Ye(o.store))return o.store.makeCacheKey(n,k(i)?i.__ref:i,o.varString,s)}}),this.executeSubSelectedArray=Je(function(n){return oi(n.context.store,n.enclosingRef.__ref),r.execSubSelectedArrayImpl(n)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(n){var i=n.field,o=n.array,s=n.context;if(Ye(s.store))return s.store.makeCacheKey(i,o,s.varString)}})}return t.prototype.resetCanon=function(){this.canon=new Vr},t.prototype.diffQueryAgainstStore=function(e){var r=e.store,n=e.query,i=e.rootId,o=i===void 0?"ROOT_QUERY":i,s=e.variables,a=e.returnPartialData,u=a===void 0?!0:a,c=e.canonizeResults,l=c===void 0?this.config.canonizeResults:c,p=this.config.cache.policies;s=m(m({},qe(Rt(n))),s);var f=fe(o),h=this.executeSelectionSet({selectionSet:le(n).selectionSet,objectOrReference:f,enclosingRef:f,context:m({store:r,query:n,policies:p,variables:s,varString:re(s),canonizeResults:l},Mr(n,this.config.fragments))}),y;if(h.missing&&(y=[new Jt(jc(h.missing),h.missing,n,s)],!u))throw y[0];return{result:h.result,complete:!y,missing:y}},t.prototype.isFresh=function(e,r,n,i){if(Ye(i.store)&&this.knownResults.get(e)===n){var o=this.executeSelectionSet.peek(n,r,i,this.canon.isKnown(e));if(o&&e===o.result)return!0}return!1},t.prototype.execSelectionSetImpl=function(e){var r=this,n=e.selectionSet,i=e.objectOrReference,o=e.enclosingRef,s=e.context;if(k(i)&&!s.policies.rootTypenamesById[i.__ref]&&!s.store.has(i.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(i.__ref," object")};var a=s.variables,u=s.policies,c=s.store,l=c.getFieldValue(i,"__typename"),p=[],f,h=new X;this.config.addTypename&&typeof l=="string"&&!u.rootIdsByTypename[l]&&p.push({__typename:l});function y(b,x){var N;return b.missing&&(f=h.merge(f,(N={},N[x]=b.missing,N))),b.result}var g=new Set(n.selections);g.forEach(function(b){var x,N;if(ue(b,a))if(K(b)){var O=u.readField({fieldName:b.name.value,field:b,variables:s.variables,from:i},s),I=$(b);O===void 0?Ue.added(b)||(f=h.merge(f,(x={},x[I]="Can't find field '".concat(b.name.value,"' on ").concat(k(i)?i.__ref+" object":"object "+JSON.stringify(i,null,2)),x))):P(O)?O=y(r.executeSubSelectedArray({field:b,array:O,enclosingRef:o,context:s}),I):b.selectionSet?O!=null&&(O=y(r.executeSelectionSet({selectionSet:b.selectionSet,objectOrReference:O,enclosingRef:k(O)?O:o,context:s}),I)):s.canonizeResults&&(O=r.canon.pass(O)),O!==void 0&&p.push((N={},N[I]=O,N))}else{var _=Ee(b,s.lookupFragment);if(!_&&b.kind===S.FRAGMENT_SPREAD)throw L(9,b.name.value);_&&u.fragmentMatches(_,l)&&_.selectionSet.selections.forEach(g.add,g)}});var v=Pt(p),d={result:v,missing:f},T=s.canonizeResults?this.canon.admit(d):Mt(d);return T.result&&this.knownResults.set(T.result,n),T},t.prototype.execSubSelectedArrayImpl=function(e){var r=this,n=e.field,i=e.array,o=e.enclosingRef,s=e.context,a,u=new X;function c(l,p){var f;return l.missing&&(a=u.merge(a,(f={},f[p]=l.missing,f))),l.result}return n.selectionSet&&(i=i.filter(s.store.canRead)),i=i.map(function(l,p){return l===null?null:P(l)?c(r.executeSubSelectedArray({field:n,array:l,enclosingRef:o,context:s}),p):n.selectionSet?c(r.executeSelectionSet({selectionSet:n.selectionSet,objectOrReference:l,enclosingRef:k(l)?l:o,context:s}),p):(globalThis.__DEV__!==!1&&Vc(s.store,n,l),l)}),{result:s.canonizeResults?this.canon.admit(i):i,missing:a}},t}();function jc(t){try{JSON.stringify(t,function(e,r){if(typeof r=="string")throw r;return r})}catch(e){return e}}function Vc(t,e,r){if(!e.selectionSet){var n=new Set([r]);n.forEach(function(i){R(i)&&(w(!k(i),10,Ds(t,i),e.name.value),Object.values(i).forEach(n.add,n))})}}var mt=new Ge,As=new WeakMap;function Kt(t){var e=As.get(t);return e||As.set(t,e={vars:new Set,dep:Ht()}),e}function ui(t){Kt(t).vars.forEach(function(e){return e.forgetCache(t)})}function Cs(t){Kt(t).vars.forEach(function(e){return e.attachCache(t)})}function Qr(t){var e=new Set,r=new Set,n=function(o){if(arguments.length>0){if(t!==o){t=o,e.forEach(function(u){Kt(u).dep.dirty(n),Qc(u)});var s=Array.from(r);r.clear(),s.forEach(function(u){return u(t)})}}else{var a=mt.getValue();a&&(i(a),Kt(a).dep(n))}return t};n.onNextChange=function(o){return r.add(o),function(){r.delete(o)}};var i=n.attachCache=function(o){return e.add(o),Kt(o).vars.add(n),n};return n.forgetCache=function(o){return e.delete(o)},n}function Qc(t){t.broadcastWatches&&t.broadcastWatches()}var Ps=Object.create(null);function ci(t){var e=JSON.stringify(t);return Ps[e]||(Ps[e]=Object.create(null))}function fi(t){var e=ci(t);return e.keyFieldsFn||(e.keyFieldsFn=function(r,n){var i=function(s,a){return n.readField(a,s)},o=n.keyObject=pi(t,function(s){var a=yt(n.storeObject,s,i);return a===void 0&&r!==n.storeObject&&j.call(r,s[0])&&(a=yt(r,s,Ms)),w(a!==void 0,4,s.join("."),r),a});return"".concat(n.typename,":").concat(JSON.stringify(o))})}function li(t){var e=ci(t);return e.keyArgsFn||(e.keyArgsFn=function(r,n){var i=n.field,o=n.variables,s=n.fieldName,a=pi(t,function(c){var l=c[0],p=l.charAt(0);if(p==="@"){if(i&&W(i.directives)){var f=l.slice(1),h=i.directives.find(function(d){return d.name.value===f}),y=h&&Te(h,o);return y&&yt(y,c.slice(1))}return}if(p==="$"){var g=l.slice(1);if(o&&j.call(o,g)){var v=c.slice(0);return v[0]=g,yt(o,v)}return}if(r)return yt(r,c)}),u=JSON.stringify(a);return(r||u!=="{}")&&(s+=":"+u),s})}function pi(t,e){var r=new X;return Ls(t).reduce(function(n,i){var o,s=e(i);if(s!==void 0){for(var a=i.length-1;a>=0;--a)s=(o={},o[i[a]]=s,o);n=r.merge(n,s)}return n},Object.create(null))}function Ls(t){var e=ci(t);if(!e.paths){var r=e.paths=[],n=[];t.forEach(function(i,o){P(i)?(Ls(i).forEach(function(s){return r.push(n.concat(s))}),n.length=0):(n.push(i),P(t[o+1])||(r.push(n.slice(0)),n.length=0))})}return e.paths}function Ms(t,e){return t[e]}function yt(t,e,r){return r=r||Ms,js(e.reduce(function n(i,o){return P(i)?i.map(function(s){return n(s,o)}):i&&r(i,o)},t))}function js(t){return R(t)?P(t)?t.map(js):pi(Object.keys(t).sort(),function(e){return yt(t,e)}):t}kt.setStringify(re);function hi(t){return t.args!==void 0?t.args:t.field?Te(t.field,t.variables):null}var qc=function(){},Vs=function(t,e){return e.fieldName},Qs=function(t,e,r){var n=r.mergeObjects;return n(t,e)},qs=function(t,e){return e},Bs=function(){function t(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=m({dataIdFromObject:Pr},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return t.prototype.identify=function(e,r){var n,i=this,o=r&&(r.typename||((n=r.storeObject)===null||n===void 0?void 0:n.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var s=r&&r.storeObject||e,a=m(m({},r),{typename:o,storeObject:s,readField:r&&r.readField||function(){var f=qr(arguments,s);return i.readField(f,{store:i.cache.data,variables:f.variables})}}),u,c=o&&this.getTypePolicy(o),l=c&&c.keyFn||this.config.dataIdFromObject;l;){var p=l(m(m({},e),s),a);if(P(p))l=fi(p);else{u=p;break}}return u=u?String(u):void 0,a.keyObject?[u,a.keyObject]:[u]},t.prototype.addTypePolicies=function(e){var r=this;Object.keys(e).forEach(function(n){var i=e[n],o=i.queryType,s=i.mutationType,a=i.subscriptionType,u=Z(i,["queryType","mutationType","subscriptionType"]);o&&r.setRootTypename("Query",n),s&&r.setRootTypename("Mutation",n),a&&r.setRootTypename("Subscription",n),j.call(r.toBeAdded,n)?r.toBeAdded[n].push(u):r.toBeAdded[n]=[u]})},t.prototype.updateTypePolicy=function(e,r){var n=this,i=this.getTypePolicy(e),o=r.keyFields,s=r.fields;function a(u,c){u.merge=typeof c=="function"?c:c===!0?Qs:c===!1?qs:u.merge}a(i,r.merge),i.keyFn=o===!1?qc:P(o)?fi(o):typeof o=="function"?o:i.keyFn,s&&Object.keys(s).forEach(function(u){var c=n.getFieldPolicy(e,u,!0),l=s[u];if(typeof l=="function")c.read=l;else{var p=l.keyArgs,f=l.read,h=l.merge;c.keyFn=p===!1?Vs:P(p)?li(p):typeof p=="function"?p:c.keyFn,typeof f=="function"&&(c.read=f),a(c,h)}c.read&&c.merge&&(c.keyFn=c.keyFn||Vs)})},t.prototype.setRootTypename=function(e,r){r===void 0&&(r=e);var n="ROOT_"+e.toUpperCase(),i=this.rootTypenamesById[n];r!==i&&(w(!i||i===e,5,e),i&&delete this.rootIdsByTypename[i],this.rootIdsByTypename[r]=n,this.rootTypenamesById[n]=r)},t.prototype.addPossibleTypes=function(e){var r=this;this.usingPossibleTypes=!0,Object.keys(e).forEach(function(n){r.getSupertypeSet(n,!0),e[n].forEach(function(i){r.getSupertypeSet(i,!0).add(n);var o=i.match(ri);(!o||o[0]!==i)&&r.fuzzySubtypes.set(i,new RegExp(i))})})},t.prototype.getTypePolicy=function(e){var r=this;if(!j.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var i=this.supertypeMap.get(e);!i&&this.fuzzySubtypes.size&&(i=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach(function(s,a){if(s.test(e)){var u=r.supertypeMap.get(a);u&&u.forEach(function(c){return i.add(c)})}})),i&&i.size&&i.forEach(function(s){var a=r.getTypePolicy(s),u=a.fields,c=Z(a,["fields"]);Object.assign(n,c),Object.assign(n.fields,u)})}var o=this.toBeAdded[e];return o&&o.length&&o.splice(0).forEach(function(s){r.updateTypePolicy(e,s)}),this.typePolicies[e]},t.prototype.getFieldPolicy=function(e,r,n){if(e){var i=this.getTypePolicy(e).fields;return i[r]||n&&(i[r]=Object.create(null))}},t.prototype.getSupertypeSet=function(e,r){var n=this.supertypeMap.get(e);return!n&&r&&this.supertypeMap.set(e,n=new Set),n},t.prototype.fragmentMatches=function(e,r,n,i){var o=this;if(!e.typeCondition)return!0;if(!r)return!1;var s=e.typeCondition.name.value;if(r===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var a=this.getSupertypeSet(r,!0),u=[a],c=function(y){var g=o.getSupertypeSet(y,!1);g&&g.size&&u.indexOf(g)<0&&u.push(g)},l=!!(n&&this.fuzzySubtypes.size),p=!1,f=0;f<u.length;++f){var h=u[f];if(h.has(s))return a.has(s)||(p&&globalThis.__DEV__!==!1&&w.warn(6,r,s),a.add(s)),!0;h.forEach(c),l&&f===u.length-1&&Cr(e.selectionSet,n,i)&&(l=!1,p=!0,this.fuzzySubtypes.forEach(function(y,g){var v=r.match(y);v&&v[0]===r&&c(g)}))}return!1},t.prototype.hasKeyArgs=function(e,r){var n=this.getFieldPolicy(e,r,!1);return!!(n&&n.keyFn)},t.prototype.getStoreFieldName=function(e){var r=e.typename,n=e.fieldName,i=this.getFieldPolicy(r,n,!1),o,s=i&&i.keyFn;if(s&&r)for(var a={typename:r,fieldName:n,field:e.field||null,variables:e.variables},u=hi(e);s;){var c=s(u,a);if(P(c))s=li(c);else{o=c||n;break}}return o===void 0&&(o=e.field?Nn(e.field,e.variables):kt(n,hi(e))),o===!1?n:n===pe(o)?o:n+":"+o},t.prototype.readField=function(e,r){var n=e.from;if(n){var i=e.field||e.fieldName;if(i){if(e.typename===void 0){var o=r.store.getFieldValue(n,"__typename");o&&(e.typename=o)}var s=this.getStoreFieldName(e),a=pe(s),u=r.store.getFieldValue(n,s),c=this.getFieldPolicy(e.typename,a,!1),l=c&&c.read;if(l){var p=Us(this,n,e,r,r.store.getStorage(k(n)?n.__ref:n,s));return mt.withValue(this.cache,l,[u,p])}return u}}},t.prototype.getReadFunction=function(e,r){var n=this.getFieldPolicy(e,r,!1);return n&&n.read},t.prototype.getMergeFunction=function(e,r,n){var i=this.getFieldPolicy(e,r,!1),o=i&&i.merge;return!o&&n&&(i=this.getTypePolicy(n),o=i&&i.merge),o},t.prototype.runMergeFunction=function(e,r,n,i,o){var s=n.field,a=n.typename,u=n.merge;return u===Qs?zs(i.store)(e,r):u===qs?r:(i.overwrite&&(e=void 0),u(e,r,Us(this,void 0,{typename:a,fieldName:s.name.value,field:s,variables:i.variables},i,o||Object.create(null))))},t}();function Us(t,e,r,n,i){var o=t.getStoreFieldName(r),s=pe(o),a=r.variables||n.variables,u=n.store,c=u.toReference,l=u.canRead;return{args:hi(r),field:r.field||null,fieldName:s,storeFieldName:o,variables:a,isReference:k,toReference:c,storage:i,cache:t.cache,canRead:l,readField:function(){return t.readField(qr(arguments,e,a),n)},mergeObjects:zs(n.store)}}function qr(t,e,r){var n=t[0],i=t[1],o=t.length,s;return typeof n=="string"?s={fieldName:n,from:o>1?i:e}:(s=m({},n),j.call(s,"from")||(s.from=e)),globalThis.__DEV__!==!1&&s.from===void 0&&globalThis.__DEV__!==!1&&w.warn(7,fr(Array.from(t))),s.variables===void 0&&(s.variables=r),s}function zs(t){return function(r,n){if(P(r)||P(n))throw L(8);if(R(r)&&R(n)){var i=t.getFieldValue(r,"__typename"),o=t.getFieldValue(n,"__typename"),s=i&&o&&i!==o;if(s)return n;if(k(r)&&Re(n))return t.merge(r.__ref,n),r;if(Re(r)&&k(n))return t.merge(r,n.__ref),n;if(Re(r)&&Re(n))return m(m({},r),n)}return n}}function di(t,e,r){var n="".concat(e).concat(r),i=t.flavors.get(n);return i||t.flavors.set(n,i=t.clientOnly===e&&t.deferred===r?t:m(m({},t),{clientOnly:e,deferred:r})),i}var Js=function(){function t(e,r,n){this.cache=e,this.reader=r,this.fragments=n}return t.prototype.writeToStore=function(e,r){var n=this,i=r.query,o=r.result,s=r.dataId,a=r.variables,u=r.overwrite,c=de(i),l=Ns();a=m(m({},qe(c)),a);var p=m(m({store:e,written:Object.create(null),merge:function(h,y){return l.merge(h,y)},variables:a,varString:re(a)},Mr(i,this.fragments)),{overwrite:!!u,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),f=this.processSelectionSet({result:o||Object.create(null),dataId:s,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:p});if(!k(f))throw L(11,o);return p.incomingById.forEach(function(h,y){var g=h.storeObject,v=h.mergeTree,d=h.fieldNodeSet,T=fe(y);if(v&&v.map.size){var b=n.applyMerges(v,T,g,p);if(k(b))return;g=b}if(globalThis.__DEV__!==!1&&!p.overwrite){var x=Object.create(null);d.forEach(function(I){I.selectionSet&&(x[I.name.value]=!0)});var N=function(I){return x[pe(I)]===!0},O=function(I){var _=v&&v.map.get(I);return!!(_&&_.info&&_.info.merge)};Object.keys(g).forEach(function(I){N(I)&&!O(I)&&Uc(T,g,I,p.store)})}e.merge(y,g)}),e.retain(f.__ref),f},t.prototype.processSelectionSet=function(e){var r=this,n=e.dataId,i=e.result,o=e.selectionSet,s=e.context,a=e.mergeTree,u=this.cache.policies,c=Object.create(null),l=n&&u.rootTypenamesById[n]||Ft(i,o,s.fragmentMap)||n&&s.store.get(n,"__typename");typeof l=="string"&&(c.__typename=l);var p=function(){var b=qr(arguments,c,s.variables);if(k(b.from)){var x=s.incomingById.get(b.from.__ref);if(x){var N=u.readField(m(m({},b),{from:x.storeObject}),s);if(N!==void 0)return N}}return u.readField(b,s)},f=new Set;this.flattenFields(o,i,s,l).forEach(function(b,x){var N,O=$(x),I=i[O];if(f.add(x),I!==void 0){var _=u.getStoreFieldName({typename:l,fieldName:x.name.value,field:x,variables:b.variables}),V=Ws(a,_),Q=r.processFieldValue(I,x,x.selectionSet?di(b,!1,!1):b,V),z=void 0;x.selectionSet&&(k(Q)||Re(Q))&&(z=p("__typename",Q));var ve=u.getMergeFunction(l,x.name.value,z);ve?V.info={field:x,typename:l,merge:ve}:Gs(a,_),c=b.merge(c,(N={},N[_]=Q,N))}else globalThis.__DEV__!==!1&&!b.clientOnly&&!b.deferred&&!Ue.added(x)&&!u.getReadFunction(l,x.name.value)&&globalThis.__DEV__!==!1&&w.error(12,$(x),i)});try{var h=u.identify(i,{typename:l,selectionSet:o,fragmentMap:s.fragmentMap,storeObject:c,readField:p}),y=h[0],g=h[1];n=n||y,g&&(c=s.merge(c,g))}catch(b){if(!n)throw b}if(typeof n=="string"){var v=fe(n),d=s.written[n]||(s.written[n]=[]);if(d.indexOf(o)>=0||(d.push(o),this.reader&&this.reader.isFresh(i,v,o,s)))return v;var T=s.incomingById.get(n);return T?(T.storeObject=s.merge(T.storeObject,c),T.mergeTree=mi(T.mergeTree,a),f.forEach(function(b){return T.fieldNodeSet.add(b)})):s.incomingById.set(n,{storeObject:c,mergeTree:Ur(a)?void 0:a,fieldNodeSet:f}),v}return c},t.prototype.processFieldValue=function(e,r,n,i){var o=this;return!r.selectionSet||e===null?globalThis.__DEV__!==!1?Dr(e):e:P(e)?e.map(function(s,a){var u=o.processFieldValue(s,r,n,Ws(i,a));return Gs(i,a),u}):this.processSelectionSet({result:e,selectionSet:r.selectionSet,context:n,mergeTree:i})},t.prototype.flattenFields=function(e,r,n,i){i===void 0&&(i=Ft(r,e,n.fragmentMap));var o=new Map,s=this.cache.policies,a=new ce(!1);return function u(c,l){var p=a.lookup(c,l.clientOnly,l.deferred);p.visited||(p.visited=!0,c.selections.forEach(function(f){if(ue(f,n.variables)){var h=l.clientOnly,y=l.deferred;if(!(h&&y)&&W(f.directives)&&f.directives.forEach(function(d){var T=d.name.value;if(T==="client"&&(h=!0),T==="defer"){var b=Te(d,n.variables);(!b||b.if!==!1)&&(y=!0)}}),K(f)){var g=o.get(f);g&&(h=h&&g.clientOnly,y=y&&g.deferred),o.set(f,di(n,h,y))}else{var v=Ee(f,n.lookupFragment);if(!v&&f.kind===S.FRAGMENT_SPREAD)throw L(13,f.name.value);v&&s.fragmentMatches(v,i,r,n.variables)&&u(v.selectionSet,di(n,h,y))}}}))}(e,n),o},t.prototype.applyMerges=function(e,r,n,i,o){var s,a=this;if(e.map.size&&!k(n)){var u=!P(n)&&(k(r)||Re(r))?r:void 0,c=n;u&&!o&&(o=[k(u)?u.__ref:u]);var l,p=function(f,h){return P(f)?typeof h=="number"?f[h]:void 0:i.store.getFieldValue(f,String(h))};e.map.forEach(function(f,h){var y=p(u,h),g=p(c,h);if(g!==void 0){o&&o.push(h);var v=a.applyMerges(f,y,g,i,o);v!==g&&(l=l||new Map,l.set(h,v)),o&&w(o.pop()===h)}}),l&&(n=P(c)?c.slice(0):m({},c),l.forEach(function(f,h){n[h]=f}))}return e.info?this.cache.policies.runMergeFunction(r,n,e.info,i,o&&(s=i.store).getStorage.apply(s,o)):n},t}();var Ys=[];function Ws(t,e){var r=t.map;return r.has(e)||r.set(e,Ys.pop()||{map:new Map}),r.get(e)}function mi(t,e){if(t===e||!e||Ur(e))return t;if(!t||Ur(t))return e;var r=t.info&&e.info?m(m({},t.info),e.info):t.info||e.info,n=t.map.size&&e.map.size,i=n?new Map:t.map.size?t.map:e.map,o={info:r,map:i};if(n){var s=new Set(e.map.keys());t.map.forEach(function(a,u){o.map.set(u,mi(a,e.map.get(u))),s.delete(u)}),s.forEach(function(a){o.map.set(a,mi(e.map.get(a),t.map.get(a)))})}return o}function Ur(t){return!t||!(t.info||t.map.size)}function Gs(t,e){var r=t.map,n=r.get(e);n&&Ur(n)&&(Ys.push(n),r.delete(e))}var Hs=new Set;function Uc(t,e,r,n){var i=function(p){var f=n.getFieldValue(p,r);return typeof f=="object"&&f},o=i(t);if(o){var s=i(e);if(s&&!k(o)&&!M(o,s)&&!Object.keys(o).every(function(p){return n.getFieldValue(s,p)!==void 0})){var a=n.getFieldValue(t,"__typename")||n.getFieldValue(e,"__typename"),u=pe(r),c="".concat(a,".").concat(u);if(!Hs.has(c)){Hs.add(c);var l=[];!P(o)&&!P(s)&&[o,s].forEach(function(p){var f=n.getFieldValue(p,"__typename");typeof f=="string"&&!l.includes(f)&&l.push(f)}),globalThis.__DEV__!==!1&&w.warn(14,u,a,l.length?"either ensure all objects of type "+l.join(" and ")+" have an ID or a custom merge function, or ":"",c,o,s)}}}}var Ks=function(t){B(e,t);function e(r){r===void 0&&(r={});var n=t.call(this)||this;return n.watches=new Set,n.addTypenameTransform=new st(Ue),n.assumeImmutableResults=!0,n.makeVar=Qr,n.txCount=0,n.config=ws(r),n.addTypename=!!n.config.addTypename,n.policies=new Bs({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return e.prototype.init=function(){var r=this.data=new dt.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=r.stump,this.resetResultCache()},e.prototype.resetResultCache=function(r){var n=this,i=this.storeReader,o=this.config.fragments;this.storeWriter=new Js(this,this.storeReader=new Rs({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Lr(this.config),canon:r?void 0:i&&i.canon,fragments:o}),o),this.maybeBroadcastWatch=Je(function(s,a){return n.broadcastWatch(s,a)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(s){var a=s.optimistic?n.optimisticData:n.data;if(Ye(a)){var u=s.optimistic,c=s.id,l=s.variables;return a.makeCacheKey(s.query,s.callback,re({optimistic:u,id:c,variables:l}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(s){return s.resetCaching()})},e.prototype.restore=function(r){return this.init(),r&&this.data.replace(r),this},e.prototype.extract=function(r){return r===void 0&&(r=!1),(r?this.optimisticData:this.data).extract()},e.prototype.read=function(r){var n=r.returnPartialData,i=n===void 0?!1:n;try{return this.storeReader.diffQueryAgainstStore(m(m({},r),{store:r.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:i})).result||null}catch(o){if(o instanceof Jt)return null;throw o}},e.prototype.write=function(r){try{return++this.txCount,this.storeWriter.writeToStore(this.data,r)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.modify=function(r){if(j.call(r,"id")&&!r.id)return!1;var n=r.optimistic?this.optimisticData:this.data;try{return++this.txCount,n.modify(r.id||"ROOT_QUERY",r.fields)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.diff=function(r){return this.storeReader.diffQueryAgainstStore(m(m({},r),{store:r.optimistic?this.optimisticData:this.data,rootId:r.id||"ROOT_QUERY",config:this.config}))},e.prototype.watch=function(r){var n=this;return this.watches.size||Cs(this),this.watches.add(r),r.immediate&&this.maybeBroadcastWatch(r),function(){n.watches.delete(r)&&!n.watches.size&&ui(n),n.maybeBroadcastWatch.forget(r)}},e.prototype.gc=function(r){re.reset();var n=this.optimisticData.gc();return r&&!this.txCount&&(r.resetResultCache?this.resetResultCache(r.resetResultIdentities):r.resetResultIdentities&&this.storeReader.resetCanon()),n},e.prototype.retain=function(r,n){return(n?this.optimisticData:this.data).retain(r)},e.prototype.release=function(r,n){return(n?this.optimisticData:this.data).release(r)},e.prototype.identify=function(r){if(k(r))return r.__ref;try{return this.policies.identify(r)[0]}catch(n){globalThis.__DEV__!==!1&&w.warn(n)}},e.prototype.evict=function(r){if(!r.id){if(j.call(r,"id"))return!1;r=m(m({},r),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(r,this.data)}finally{!--this.txCount&&r.broadcast!==!1&&this.broadcastWatches()}},e.prototype.reset=function(r){var n=this;return this.init(),re.reset(),r&&r.discardWatches?(this.watches.forEach(function(i){return n.maybeBroadcastWatch.forget(i)}),this.watches.clear(),ui(this)):this.broadcastWatches(),Promise.resolve()},e.prototype.removeOptimistic=function(r){var n=this.optimisticData.removeLayer(r);n!==this.optimisticData&&(this.optimisticData=n,this.broadcastWatches())},e.prototype.batch=function(r){var n=this,i=r.update,o=r.optimistic,s=o===void 0?!0:o,a=r.removeOptimistic,u=r.onWatchUpdated,c,l=function(f){var h=n,y=h.data,g=h.optimisticData;++n.txCount,f&&(n.data=n.optimisticData=f);try{return c=i(n)}finally{--n.txCount,n.data=y,n.optimisticData=g}},p=new Set;return u&&!this.txCount&&this.broadcastWatches(m(m({},r),{onWatchUpdated:function(f){return p.add(f),!1}})),typeof s=="string"?this.optimisticData=this.optimisticData.addLayer(s,l):s===!1?l(this.data):l(),typeof a=="string"&&(this.optimisticData=this.optimisticData.removeLayer(a)),u&&p.size?(this.broadcastWatches(m(m({},r),{onWatchUpdated:function(f,h){var y=u.call(this,f,h);return y!==!1&&p.delete(f),y}})),p.size&&p.forEach(function(f){return n.maybeBroadcastWatch.dirty(f)})):this.broadcastWatches(r),c},e.prototype.performTransaction=function(r,n){return this.batch({update:r,optimistic:n||n!==null})},e.prototype.transformDocument=function(r){return this.addTypenameToDocument(this.addFragmentsToDocument(r))},e.prototype.broadcastWatches=function(r){var n=this;this.txCount||this.watches.forEach(function(i){return n.maybeBroadcastWatch(i,r)})},e.prototype.addFragmentsToDocument=function(r){var n=this.config.fragments;return n?n.transform(r):r},e.prototype.addTypenameToDocument=function(r){return this.addTypename?this.addTypenameTransform.transformDocument(r):r},e.prototype.broadcastWatch=function(r,n){var i=r.lastDiff,o=this.diff(r);n&&(r.optimistic&&typeof n.optimistic=="string"&&(o.fromOptimisticTransaction=!0),n.onWatchUpdated&&n.onWatchUpdated.call(this,r,o,i)===!1)||(!i||!M(i.result,o.result))&&r.callback(r.lastDiff=o,i)},e}(ti);var C=function(t){return t[t.loading=1]="loading",t[t.setVariables=2]="setVariables",t[t.fetchMore=3]="fetchMore",t[t.refetch=4]="refetch",t[t.poll=6]="poll",t[t.ready=7]="ready",t[t.error=8]="error",t}(C||{});function Ce(t){return t?t<7:!1}function Xs(t,e,r,n){var i=e.data,o=Z(e,["data"]),s=r.data,a=Z(r,["data"]);return $n(o,a)&&Br(le(t).selectionSet,i,s,{fragmentMap:be(xe(t)),variables:n})}function Br(t,e,r,n){if(e===r)return!0;var i=new Set;return t.selections.every(function(o){if(i.has(o)||(i.add(o),!ue(o,n.variables))||$s(o))return!0;if(K(o)){var s=$(o),a=e&&e[s],u=r&&r[s],c=o.selectionSet;if(!c)return $n(a,u);var l=Array.isArray(a),p=Array.isArray(u);if(l!==p)return!1;if(l&&p){var f=a.length;if(u.length!==f)return!1;for(var h=0;h<f;++h)if(!Br(c,a[h],u[h],n))return!1;return!0}return Br(c,a,u,n)}else{var y=Ee(o,n.fragmentMap);if(y)return $s(y)?!0:Br(y.selectionSet,e,r,n)}})}function $s(t){return!!t.directives&&t.directives.some(Bc)}function Bc(t){return t.name.value==="nonreactive"}var Zs=Object.assign,zc=Object.hasOwnProperty,zr=function(t){B(e,t);function e(r){var n=r.queryManager,i=r.queryInfo,o=r.options,s=t.call(this,function(v){try{var d=v._subscription._observer;d&&!d.error&&(d.error=Wc)}catch{}var T=!s.observers.size;s.observers.add(v);var b=s.last;return b&&b.error?v.error&&v.error(b.error):b&&b.result&&v.next&&v.next(b.result),T&&s.reobserve().catch(function(){}),function(){s.observers.delete(v)&&!s.observers.size&&s.tearDownQuery()}})||this;s.observers=new Set,s.subscriptions=new Set,s.queryInfo=i,s.queryManager=n,s.waitForOwnResult=yi(o.fetchPolicy),s.isTornDown=!1;var a=n.defaultOptions.watchQuery,u=a===void 0?{}:a,c=u.fetchPolicy,l=c===void 0?"cache-first":c,p=o.fetchPolicy,f=p===void 0?l:p,h=o.initialFetchPolicy,y=h===void 0?f==="standby"?l:f:h;s.options=m(m({},o),{initialFetchPolicy:y,fetchPolicy:f}),s.queryId=i.queryId||n.generateQueryId();var g=de(s.query);return s.queryName=g&&g.name&&g.name.value,s}return Object.defineProperty(e.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),e.prototype.result=function(){var r=this;return new Promise(function(n,i){var o={next:function(a){n(a),r.observers.delete(o),r.observers.size||r.queryManager.removeQuery(r.queryId),setTimeout(function(){s.unsubscribe()},0)},error:i},s=r.subscribe(o)})},e.prototype.getCurrentResult=function(r){r===void 0&&(r=!0);var n=this.getLastResult(!0),i=this.queryInfo.networkStatus||n&&n.networkStatus||C.ready,o=m(m({},n),{loading:Ce(i),networkStatus:i}),s=this.options.fetchPolicy,a=s===void 0?"cache-first":s;if(!(yi(a)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers))if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var u=this.queryInfo.getDiff();(u.complete||this.options.returnPartialData)&&(o.data=u.result),M(o.data,{})&&(o.data=void 0),u.complete?(delete o.partial,u.complete&&o.networkStatus===C.loading&&(a==="cache-first"||a==="cache-only")&&(o.networkStatus=C.ready,o.loading=!1)):o.partial=!0,globalThis.__DEV__!==!1&&!u.complete&&!this.options.partialRefetch&&!o.loading&&!o.data&&!o.error&&gi(u.missing)}return r&&this.updateLastResult(o),o},e.prototype.isDifferentFromLastResult=function(r,n){if(!this.last)return!0;var i=this.queryManager.getDocumentInfo(this.query).hasNonreactiveDirective?!Xs(this.query,this.last.result,r,this.variables):!M(this.last.result,r);return i||n&&!M(this.last.variables,n)},e.prototype.getLast=function(r,n){var i=this.last;if(i&&i[r]&&(!n||M(i.variables,this.variables)))return i[r]},e.prototype.getLastResult=function(r){return this.getLast("result",r)},e.prototype.getLastError=function(r){return this.getLast("error",r)},e.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},e.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},e.prototype.refetch=function(r){var n,i={pollInterval:0},o=this.options.fetchPolicy;if(o==="cache-and-network"?i.fetchPolicy=o:o==="no-cache"?i.fetchPolicy="no-cache":i.fetchPolicy="network-only",globalThis.__DEV__!==!1&&r&&zc.call(r,"variables")){var s=Rt(this.query),a=s.variableDefinitions;(!a||!a.some(function(u){return u.variable.name.value==="variables"}))&&globalThis.__DEV__!==!1&&w.warn(20,r,((n=s.name)===null||n===void 0?void 0:n.value)||s)}return r&&!M(this.options.variables,r)&&(i.variables=this.options.variables=m(m({},this.options.variables),r)),this.queryInfo.resetLastWrite(),this.reobserve(i,C.refetch)},e.prototype.fetchMore=function(r){var n=this,i=m(m({},r.query?r:m(m(m(m({},this.options),{query:this.options.query}),r),{variables:m(m({},this.options.variables),r.variables)})),{fetchPolicy:"no-cache"});i.query=this.transformDocument(i.query);var o=this.queryManager.generateQueryId();this.lastQuery=r.query?this.transformDocument(this.options.query):i.query;var s=this.queryInfo,a=s.networkStatus;s.networkStatus=C.fetchMore,i.notifyOnNetworkStatusChange&&this.observe();var u=new Set;return this.queryManager.fetchQuery(o,i,C.fetchMore).then(function(c){return n.queryManager.removeQuery(o),s.networkStatus===C.fetchMore&&(s.networkStatus=a),n.queryManager.cache.batch({update:function(l){var p=r.updateQuery;p?l.updateQuery({query:n.query,variables:n.variables,returnPartialData:!0,optimistic:!1},function(f){return p(f,{fetchMoreResult:c.data,variables:i.variables})}):l.writeQuery({query:i.query,variables:i.variables,data:c.data})},onWatchUpdated:function(l){u.add(l.query)}}),c}).finally(function(){u.has(n.query)||vi(n)})},e.prototype.subscribeToMore=function(r){var n=this,i=this.queryManager.startGraphQLSubscription({query:r.document,variables:r.variables,context:r.context}).subscribe({next:function(o){var s=r.updateQuery;s&&n.updateQuery(function(a,u){var c=u.variables;return s(a,{subscriptionData:o,variables:c})})},error:function(o){if(r.onError){r.onError(o);return}globalThis.__DEV__!==!1&&w.error(21,o)}});return this.subscriptions.add(i),function(){n.subscriptions.delete(i)&&i.unsubscribe()}},e.prototype.setOptions=function(r){return this.reobserve(r)},e.prototype.silentSetOptions=function(r){var n=me(this.options,r||{});Zs(this.options,n)},e.prototype.setVariables=function(r){return M(this.variables,r)?this.observers.size?this.result():Promise.resolve():(this.options.variables=r,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:r},C.setVariables):Promise.resolve())},e.prototype.updateQuery=function(r){var n=this.queryManager,i=n.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,o=r(i,{variables:this.variables});o&&(n.cache.writeQuery({query:this.options.query,data:o,variables:this.variables}),n.broadcastQueries())},e.prototype.startPolling=function(r){this.options.pollInterval=r,this.updatePolling()},e.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},e.prototype.applyNextFetchPolicy=function(r,n){if(n.nextFetchPolicy){var i=n.fetchPolicy,o=i===void 0?"cache-first":i,s=n.initialFetchPolicy,a=s===void 0?o:s;o==="standby"||(typeof n.nextFetchPolicy=="function"?n.fetchPolicy=n.nextFetchPolicy(o,{reason:r,options:n,observable:this,initialFetchPolicy:a}):r==="variables-changed"?n.fetchPolicy=a:n.fetchPolicy=n.nextFetchPolicy)}return n.fetchPolicy},e.prototype.fetch=function(r,n,i){return this.queryManager.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(this.queryId,r,n,i)},e.prototype.updatePolling=function(){var r=this;if(!this.queryManager.ssrMode){var n=this,i=n.pollingInfo,o=n.options.pollInterval;if(!o){i&&(clearTimeout(i.timeout),delete this.pollingInfo);return}if(!(i&&i.interval===o)){w(o,22);var s=i||(this.pollingInfo={});s.interval=o;var a=function(){r.pollingInfo&&(Ce(r.queryInfo.networkStatus)?u():r.reobserve({fetchPolicy:r.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},C.poll).then(u,u))},u=function(){var c=r.pollingInfo;c&&(clearTimeout(c.timeout),c.timeout=setTimeout(a,c.interval))};u()}}},e.prototype.updateLastResult=function(r,n){n===void 0&&(n=this.variables);var i=this.getLastError();return i&&this.last&&!M(n,this.last.variables)&&(i=void 0),this.last=m({result:this.queryManager.assumeImmutableResults?r:Dr(r),variables:n},i?{error:i}:null)},e.prototype.reobserveAsConcast=function(r,n){var i=this;this.isTornDown=!1;var o=n===C.refetch||n===C.fetchMore||n===C.poll,s=this.options.variables,a=this.options.fetchPolicy,u=me(this.options,r||{}),c=o?u:Zs(this.options,u),l=this.transformDocument(c.query);this.lastQuery=l,o||(this.updatePolling(),r&&r.variables&&!M(r.variables,s)&&c.fetchPolicy!=="standby"&&c.fetchPolicy===a&&(this.applyNextFetchPolicy("variables-changed",c),n===void 0&&(n=C.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=yi(c.fetchPolicy));var p=function(){i.concast===y&&(i.waitForOwnResult=!1)},f=c.variables&&m({},c.variables),h=this.fetch(c,n,l),y=h.concast,g=h.fromLink,v={next:function(d){p(),i.reportResult(d,f)},error:function(d){p(),i.reportError(d,f)}};return!o&&(g||!this.concast)&&(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=y,this.observer=v),y.addObserver(v),y},e.prototype.reobserve=function(r,n){return this.reobserveAsConcast(r,n).promise},e.prototype.resubscribeAfterError=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=this.last;this.resetLastResults();var o=this.subscribe.apply(this,r);return this.last=i,o},e.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},e.prototype.reportResult=function(r,n){var i=this.getLastError(),o=this.isDifferentFromLastResult(r,n);(i||!r.partial||this.options.returnPartialData)&&this.updateLastResult(r,n),(i||o)&&Be(this.observers,"next",r)},e.prototype.reportError=function(r,n){var i=m(m({},this.getLastResult()),{error:r,errors:r.graphQLErrors,networkStatus:C.error,loading:!1});this.updateLastResult(i,n),Be(this.observers,"error",this.last.error=r)},e.prototype.hasObservers=function(){return this.observers.size>0},e.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(r){return r.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},e.prototype.transformDocument=function(r){return this.queryManager.transform(r)},e}(A);Ir(zr);function vi(t){var e=t.options,r=e.fetchPolicy,n=e.nextFetchPolicy;return r==="cache-and-network"||r==="network-only"?t.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(i,o){return this.nextFetchPolicy=n,typeof this.nextFetchPolicy=="function"?this.nextFetchPolicy(i,o):r}}):t.reobserve()}function Wc(t){globalThis.__DEV__!==!1&&w.error(23,t.message,t.stack)}function gi(t){globalThis.__DEV__!==!1&&t&&globalThis.__DEV__!==!1&&w.debug(24,t)}function yi(t){return t==="network-only"||t==="no-cache"||t==="standby"}var Wr=function(){function t(e){var r=e.cache,n=e.client,i=e.resolvers,o=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=r,n&&(this.client=n),i&&this.addResolvers(i),o&&this.setFragmentMatcher(o)}return t.prototype.addResolvers=function(e){var r=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(n){r.resolvers=Fn(r.resolvers,n)}):this.resolvers=Fn(this.resolvers,e)},t.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},t.prototype.getResolvers=function(){return this.resolvers||{}},t.prototype.runResolvers=function(e){var r=e.document,n=e.remoteResult,i=e.context,o=e.variables,s=e.onlyRunForcedResolvers,a=s===void 0?!1:s;return oe(this,void 0,void 0,function(){return se(this,function(u){return r?[2,this.resolveDocument(r,n.data,i,o,this.fragmentMatcher,a).then(function(c){return m(m({},n),{data:c.result})})]:[2,n]})})},t.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},t.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},t.prototype.clientQuery=function(e){return ge(["client"],e)&&this.resolvers?e:null},t.prototype.serverQuery=function(e){return Ct(e)},t.prototype.prepareContext=function(e){var r=this.cache;return m(m({},e),{cache:r,getCacheKey:function(n){return r.identify(n)}})},t.prototype.addExportedVariables=function(e,r,n){return r===void 0&&(r={}),n===void 0&&(n={}),oe(this,void 0,void 0,function(){return se(this,function(i){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,r)||{},this.prepareContext(n),r).then(function(o){return m(m({},r),o.exportedVariables)})]:[2,m({},r)]})})},t.prototype.shouldForceResolvers=function(e){var r=!1;return J(e,{Directive:{enter:function(n){if(n.name.value==="client"&&n.arguments&&(r=n.arguments.some(function(i){return i.name.value==="always"&&i.value.kind==="BooleanValue"&&i.value.value===!0}),r))return Qe}}}),r},t.prototype.buildRootValueFromCache=function(e,r){return this.cache.diff({query:kn(e),variables:r,returnPartialData:!0,optimistic:!1}).result},t.prototype.resolveDocument=function(e,r,n,i,o,s){return n===void 0&&(n={}),i===void 0&&(i={}),o===void 0&&(o=function(){return!0}),s===void 0&&(s=!1),oe(this,void 0,void 0,function(){var a,u,c,l,p,f,h,y,g,v,d;return se(this,function(T){return a=le(e),u=xe(e),c=be(u),l=this.collectSelectionsToResolve(a,c),p=a.operation,f=p?p.charAt(0).toUpperCase()+p.slice(1):"Query",h=this,y=h.cache,g=h.client,v={fragmentMap:c,context:m(m({},n),{cache:y,client:g}),variables:i,fragmentMatcher:o,defaultOperationType:f,exportedVariables:{},selectionsToResolve:l,onlyRunForcedResolvers:s},d=!1,[2,this.resolveSelectionSet(a.selectionSet,d,r,v).then(function(b){return{result:b,exportedVariables:v.exportedVariables}})]})})},t.prototype.resolveSelectionSet=function(e,r,n,i){return oe(this,void 0,void 0,function(){var o,s,a,u,c,l=this;return se(this,function(p){return o=i.fragmentMap,s=i.context,a=i.variables,u=[n],c=function(f){return oe(l,void 0,void 0,function(){var h,y;return se(this,function(g){return!r&&!i.selectionsToResolve.has(f)?[2]:ue(f,a)?K(f)?[2,this.resolveField(f,r,n,i).then(function(v){var d;typeof v<"u"&&u.push((d={},d[$(f)]=v,d))})]:(In(f)?h=f:(h=o[f.name.value],w(h,18,f.name.value)),h&&h.typeCondition&&(y=h.typeCondition.name.value,i.fragmentMatcher(n,y,s))?[2,this.resolveSelectionSet(h.selectionSet,r,n,i).then(function(v){u.push(v)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(c)).then(function(){return Pt(u)})]})})},t.prototype.resolveField=function(e,r,n,i){return oe(this,void 0,void 0,function(){var o,s,a,u,c,l,p,f,h,y=this;return se(this,function(g){return n?(o=i.variables,s=e.name.value,a=$(e),u=s!==a,c=n[a]||n[s],l=Promise.resolve(c),(!i.onlyRunForcedResolvers||this.shouldForceResolvers(e))&&(p=n.__typename||i.defaultOperationType,f=this.resolvers&&this.resolvers[p],f&&(h=f[u?s:a],h&&(l=Promise.resolve(mt.withValue(this.cache,h,[n,Te(e,o),i.context,{field:e,fragmentMap:i.fragmentMap}]))))),[2,l.then(function(v){var d,T;if(v===void 0&&(v=c),e.directives&&e.directives.forEach(function(x){x.name.value==="export"&&x.arguments&&x.arguments.forEach(function(N){N.name.value==="as"&&N.value.kind==="StringValue"&&(i.exportedVariables[N.value.value]=v)})}),!e.selectionSet||v==null)return v;var b=(T=(d=e.directives)===null||d===void 0?void 0:d.some(function(x){return x.name.value==="client"}))!==null&&T!==void 0?T:!1;if(Array.isArray(v))return y.resolveSubSelectedArray(e,r||b,v,i);if(e.selectionSet)return y.resolveSelectionSet(e.selectionSet,r||b,v,i)})]):[2,null]})})},t.prototype.resolveSubSelectedArray=function(e,r,n,i){var o=this;return Promise.all(n.map(function(s){if(s===null)return null;if(Array.isArray(s))return o.resolveSubSelectedArray(e,r,s,i);if(e.selectionSet)return o.resolveSelectionSet(e.selectionSet,r,s,i)}))},t.prototype.collectSelectionsToResolve=function(e,r){var n=function(s){return!Array.isArray(s)},i=this.selectionsToResolveCache;function o(s){if(!i.has(s)){var a=new Set;i.set(s,a),J(s,{Directive:function(u,c,l,p,f){u.name.value==="client"&&f.forEach(function(h){n(h)&&It(h)&&a.add(h)})},FragmentSpread:function(u,c,l,p,f){var h=r[u.name.value];w(h,19,u.name.value);var y=o(h);y.size>0&&(f.forEach(function(g){n(g)&&It(g)&&a.add(g)}),a.add(u),y.forEach(function(g){a.add(g)}))}})}return i.get(s)}return o(e)},t}();var vt=new(Y?WeakMap:Map);function bi(t,e){var r=t[e];typeof r=="function"&&(t[e]=function(){return vt.set(t,(vt.get(t)+1)%1e15),r.apply(this,arguments)})}function ea(t){t.notifyTimeout&&(clearTimeout(t.notifyTimeout),t.notifyTimeout=void 0)}var Gr=function(){function t(e,r){r===void 0&&(r=e.generateQueryId()),this.queryId=r,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;vt.has(n)||(vt.set(n,0),bi(n,"evict"),bi(n,"modify"),bi(n,"reset"))}return t.prototype.init=function(e){var r=e.networkStatus||C.loading;return this.variables&&this.networkStatus!==C.loading&&!M(this.variables,e.variables)&&(r=C.setVariables),M(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:r}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},t.prototype.reset=function(){ea(this),this.dirty=!1},t.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&M(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var r=this.observableQuery;if(r&&r.options.fetchPolicy==="no-cache")return{complete:!1};var n=this.cache.diff(e);return this.updateLastDiff(n,e),n},t.prototype.updateLastDiff=function(e,r){this.lastDiff=e?{diff:e,options:r||this.getDiffOptions()}:void 0},t.prototype.getDiffOptions=function(e){var r;return e===void 0&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:(r=this.observableQuery)===null||r===void 0?void 0:r.options.canonizeResults}},t.prototype.setDiff=function(e){var r=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),!this.dirty&&!M(n&&n.result,e&&e.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return r.notify()},0)))},t.prototype.setObservableQuery=function(e){var r=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){var n=r.getDiff();n.fromOptimisticTransaction?e.observe():vi(e)})):delete this.oqListener)},t.prototype.notify=function(){var e=this;ea(this),this.shouldNotify()&&this.listeners.forEach(function(r){return r(e)}),this.dirty=!1},t.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Ce(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if(e!=="cache-only"&&e!=="cache-and-network")return!1}return!0},t.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=t.prototype.cancel;var e=this.observableQuery;e&&e.stopPolling()}},t.prototype.cancel=function(){},t.prototype.updateWatch=function(e){var r=this;e===void 0&&(e=this.variables);var n=this.observableQuery;if(!(n&&n.options.fetchPolicy==="no-cache")){var i=m(m({},this.getDiffOptions(e)),{watcher:this,callback:function(o){return r.setDiff(o)}});(!this.lastWatch||!M(i,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=i))}},t.prototype.resetLastWrite=function(){this.lastWrite=void 0},t.prototype.shouldWrite=function(e,r){var n=this.lastWrite;return!(n&&n.dmCount===vt.get(this.cache)&&M(r,n.variables)&&M(e.data,n.result.data))},t.prototype.markResult=function(e,r,n,i){var o=this,s=new X,a=W(e.errors)?e.errors.slice(0):[];if(this.reset(),"incremental"in e&&W(e.incremental)){var u=_r(this.getDiff().result,e);e.data=u}else if("hasNext"in e&&e.hasNext){var c=this.getDiff();e.data=s.merge(c.result,e.data)}this.graphQLErrors=a,n.fetchPolicy==="no-cache"?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):i!==0&&(Hr(e,n.errorPolicy)?this.cache.performTransaction(function(l){if(o.shouldWrite(e,n.variables))l.writeQuery({query:r,data:e.data,variables:n.variables,overwrite:i===1}),o.lastWrite={result:e,variables:n.variables,dmCount:vt.get(o.cache)};else if(o.lastDiff&&o.lastDiff.diff.complete){e.data=o.lastDiff.diff.result;return}var p=o.getDiffOptions(n.variables),f=l.diff(p);!o.stopped&&M(o.variables,n.variables)&&o.updateWatch(n.variables),o.updateLastDiff(f,p),f.complete&&(e.data=f.result)}):this.lastWrite=void 0)},t.prototype.markReady=function(){return this.networkError=null,this.networkStatus=C.ready},t.prototype.markError=function(e){return this.networkStatus=C.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},t}();function Hr(t,e){e===void 0&&(e="none");var r=e==="ignore"||e==="all",n=!ft(t);return!n&&r&&t.data&&(n=!0),n}var Gc=Object.prototype.hasOwnProperty,ta=function(){function t(e){var r=e.cache,n=e.link,i=e.defaultOptions,o=e.documentTransform,s=e.queryDeduplication,a=s===void 0?!1:s,u=e.onBroadcast,c=e.ssrMode,l=c===void 0?!1:c,p=e.clientAwareness,f=p===void 0?{}:p,h=e.localState,y=e.assumeImmutableResults,g=y===void 0?!!r.assumeImmutableResults:y,v=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Y?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map;var d=new st(function(T){return v.cache.transformDocument(T)},{cache:!1});this.cache=r,this.link=n,this.defaultOptions=i||Object.create(null),this.queryDeduplication=a,this.clientAwareness=f,this.localState=h||new Wr({cache:r}),this.ssrMode=l,this.assumeImmutableResults=g,this.documentTransform=o?d.concat(o).concat(d):d,(this.onBroadcast=u)&&(this.mutationStore=Object.create(null))}return t.prototype.stop=function(){var e=this;this.queries.forEach(function(r,n){e.stopQueryNoBroadcast(n)}),this.cancelPendingFetches(L(25))},t.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach(function(r){return r(e)}),this.fetchCancelFns.clear()},t.prototype.mutate=function(e){var r,n,i=e.mutation,o=e.variables,s=e.optimisticResponse,a=e.updateQueries,u=e.refetchQueries,c=u===void 0?[]:u,l=e.awaitRefetchQueries,p=l===void 0?!1:l,f=e.update,h=e.onQueryUpdated,y=e.fetchPolicy,g=y===void 0?((r=this.defaultOptions.mutate)===null||r===void 0?void 0:r.fetchPolicy)||"network-only":y,v=e.errorPolicy,d=v===void 0?((n=this.defaultOptions.mutate)===null||n===void 0?void 0:n.errorPolicy)||"none":v,T=e.keepRootFields,b=e.context;return oe(this,void 0,void 0,function(){var x,N,O,I;return se(this,function(_){switch(_.label){case 0:return w(i,26),w(g==="network-only"||g==="no-cache",27),x=this.generateMutationId(),i=this.cache.transformForLink(this.transform(i)),N=this.getDocumentInfo(i).hasClientExports,o=this.getVariables(i,o),N?[4,this.localState.addExportedVariables(i,o,b)]:[3,2];case 1:o=_.sent(),_.label=2;case 2:return O=this.mutationStore&&(this.mutationStore[x]={mutation:i,variables:o,loading:!0,error:null}),s&&this.markMutationOptimistic(s,{mutationId:x,document:i,variables:o,fetchPolicy:g,errorPolicy:d,context:b,updateQueries:a,update:f,keepRootFields:T}),this.broadcastQueries(),I=this,[2,new Promise(function(V,Q){return Nr(I.getObservableFromLink(i,m(m({},b),{optimisticResponse:s}),o,!1),function(z){if(ft(z)&&d==="none")throw new We({graphQLErrors:kr(z)});O&&(O.loading=!1,O.error=null);var ve=m({},z);return typeof c=="function"&&(c=c(ve)),d==="ignore"&&ft(ve)&&delete ve.errors,I.markMutationResult({mutationId:x,result:ve,document:i,variables:o,fetchPolicy:g,errorPolicy:d,context:b,update:f,updateQueries:a,awaitRefetchQueries:p,refetchQueries:c,removeOptimistic:s?x:void 0,onQueryUpdated:h,keepRootFields:T})}).subscribe({next:function(z){I.broadcastQueries(),(!("hasNext"in z)||z.hasNext===!1)&&V(z)},error:function(z){O&&(O.loading=!1,O.error=z),s&&I.cache.removeOptimistic(x),I.broadcastQueries(),Q(z instanceof We?z:new We({networkError:z}))}})})]}})})},t.prototype.markMutationResult=function(e,r){var n=this;r===void 0&&(r=this.cache);var i=e.result,o=[],s=e.fetchPolicy==="no-cache";if(!s&&Hr(i,e.errorPolicy)){if(ke(i)||o.push({result:i.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),ke(i)&&W(i.incremental)){var a=r.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),u=void 0;a.result&&(u=_r(a.result,i)),typeof u<"u"&&(i.data=u,o.push({result:u,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var c=e.updateQueries;c&&this.queries.forEach(function(p,f){var h=p.observableQuery,y=h&&h.queryName;if(!(!y||!Gc.call(c,y))){var g=c[y],v=n.queries.get(f),d=v.document,T=v.variables,b=r.diff({query:d,variables:T,returnPartialData:!0,optimistic:!1}),x=b.result,N=b.complete;if(N&&x){var O=g(x,{mutationResult:i,queryName:d&&ot(d)||void 0,queryVariables:T});O&&o.push({result:O,dataId:"ROOT_QUERY",query:d,variables:T})}}})}if(o.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var l=[];if(this.refetchQueries({updateCache:function(p){s||o.forEach(function(g){return p.write(g)});var f=e.update,h=!Po(i)||ke(i)&&!i.hasNext;if(f){if(!s){var y=p.diff({id:"ROOT_MUTATION",query:n.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});y.complete&&(i=m(m({},i),{data:y.result}),"incremental"in i&&delete i.incremental,"hasNext"in i&&delete i.hasNext)}h&&f(p,i,{context:e.context,variables:e.variables})}!s&&!e.keepRootFields&&h&&p.modify({id:"ROOT_MUTATION",fields:function(g,v){var d=v.fieldName,T=v.DELETE;return d==="__typename"?g:T}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach(function(p){return l.push(p)}),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(l).then(function(){return i})}return Promise.resolve(i)},t.prototype.markMutationOptimistic=function(e,r){var n=this,i=typeof e=="function"?e(r.variables):e;return this.cache.recordOptimisticTransaction(function(o){try{n.markMutationResult(m(m({},r),{result:{data:i}}),o)}catch(s){globalThis.__DEV__!==!1&&w.error(s)}},r.mutationId)},t.prototype.fetchQuery=function(e,r,n){return this.fetchConcastWithInfo(e,r,n).concast.promise},t.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach(function(r,n){e[n]={variables:r.variables,networkStatus:r.networkStatus,networkError:r.networkError,graphQLErrors:r.graphQLErrors}}),e},t.prototype.resetErrors=function(e){var r=this.queries.get(e);r&&(r.networkError=void 0,r.graphQLErrors=[])},t.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},t.prototype.getDocumentInfo=function(e){var r=this.transformCache;if(!r.has(e)){var n={hasClientExports:On(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:ge(["nonreactive"],e),clientQuery:this.localState.clientQuery(e),serverQuery:Or([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"}],e),defaultVars:qe(de(e)),asQuery:m(m({},e),{definitions:e.definitions.map(function(i){return i.kind==="OperationDefinition"&&i.operation!=="query"?m(m({},i),{operation:"query"}):i})})};r.set(e,n)}return r.get(e)},t.prototype.getVariables=function(e,r){return m(m({},this.getDocumentInfo(e).defaultVars),r)},t.prototype.watchQuery=function(e){var r=this.transform(e.query);e=m(m({},e),{variables:this.getVariables(r,e.variables)}),typeof e.notifyOnNetworkStatusChange>"u"&&(e.notifyOnNetworkStatusChange=!1);var n=new Gr(this),i=new zr({queryManager:this,queryInfo:n,options:e});return i.lastQuery=r,this.queries.set(i.queryId,n),n.init({document:r,observableQuery:i,variables:i.variables}),i},t.prototype.query=function(e,r){var n=this;return r===void 0&&(r=this.generateQueryId()),w(e.query,28),w(e.query.kind==="Document",29),w(!e.returnPartialData,30),w(!e.pollInterval,31),this.fetchQuery(r,m(m({},e),{query:this.transform(e.query)})).finally(function(){return n.stopQuery(r)})},t.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},t.prototype.generateRequestId=function(){return this.requestIdCounter++},t.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},t.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryInStoreNoBroadcast=function(e){var r=this.queries.get(e);r&&r.stop()},t.prototype.clearStore=function(e){return e===void 0&&(e={discardWatches:!0}),this.cancelPendingFetches(L(32)),this.queries.forEach(function(r){r.observableQuery?r.networkStatus=C.loading:r.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},t.prototype.getObservableQueries=function(e){var r=this;e===void 0&&(e="active");var n=new Map,i=new Map,o=new Set;return Array.isArray(e)&&e.forEach(function(s){typeof s=="string"?i.set(s,!1):Dn(s)?i.set(r.transform(s),!1):R(s)&&s.query&&o.add(s)}),this.queries.forEach(function(s,a){var u=s.observableQuery,c=s.document;if(u){if(e==="all"){n.set(a,u);return}var l=u.queryName,p=u.options.fetchPolicy;if(p==="standby"||e==="active"&&!u.hasObservers())return;(e==="active"||l&&i.has(l)||c&&i.has(c))&&(n.set(a,u),l&&i.set(l,!0),c&&i.set(c,!0))}}),o.size&&o.forEach(function(s){var a=St("legacyOneTimeQuery"),u=r.getQuery(a).init({document:s.query,variables:s.variables}),c=new zr({queryManager:r,queryInfo:u,options:m(m({},s),{fetchPolicy:"network-only"})});w(c.queryId===a),u.setObservableQuery(c),n.set(a,c)}),globalThis.__DEV__!==!1&&i.size&&i.forEach(function(s,a){s||globalThis.__DEV__!==!1&&w.warn(typeof a=="string"?33:34,a)}),n},t.prototype.reFetchObservableQueries=function(e){var r=this;e===void 0&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach(function(i,o){var s=i.options.fetchPolicy;i.resetLastResults(),(e||s!=="standby"&&s!=="cache-only")&&n.push(i.refetch()),r.getQuery(o).setDiff(null)}),this.broadcastQueries(),Promise.all(n)},t.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},t.prototype.startGraphQLSubscription=function(e){var r=this,n=e.query,i=e.fetchPolicy,o=e.errorPolicy,s=o===void 0?"none":o,a=e.variables,u=e.context,c=u===void 0?{}:u;n=this.transform(n),a=this.getVariables(n,a);var l=function(f){return r.getObservableFromLink(n,c,f).map(function(h){i!=="no-cache"&&(Hr(h,s)&&r.cache.write({query:n,result:h.data,dataId:"ROOT_SUBSCRIPTION",variables:f}),r.broadcastQueries());var y=ft(h),g=Vo(h);if(y||g){var v={};if(y&&(v.graphQLErrors=h.errors),g&&(v.protocolErrors=h.extensions[Ut]),s==="none"||g)throw new We(v)}return s==="ignore"&&delete h.errors,h})};if(this.getDocumentInfo(n).hasClientExports){var p=this.localState.addExportedVariables(n,a,c).then(l);return new A(function(f){var h=null;return p.then(function(y){return h=y.subscribe(f)},f.error),function(){return h&&h.unsubscribe()}})}return l(a)},t.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},t.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},t.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.queries.has(e)&&(this.getQuery(e).stop(),this.queries.delete(e))},t.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(e){return e.notify()})},t.prototype.getLocalState=function(){return this.localState},t.prototype.getObservableFromLink=function(e,r,n,i){var o=this,s;i===void 0&&(i=(s=r?.queryDeduplication)!==null&&s!==void 0?s:this.queryDeduplication);var a,u=this.getDocumentInfo(e),c=u.serverQuery,l=u.clientQuery;if(c){var p=this,f=p.inFlightLinkObservables,h=p.link,y={query:c,variables:n,operationName:ot(c)||void 0,context:this.prepareContext(m(m({},r),{forceFetch:!i}))};if(r=y.context,i){var g=At(c),v=f.get(g)||new Map;f.set(g,v);var d=re(n);if(a=v.get(d),!a){var T=new ze([lt(h,y)]);v.set(d,a=T),T.beforeNext(function(){v.delete(d)&&v.size<1&&f.delete(g)})}}else a=new ze([lt(h,y)])}else a=new ze([A.of({data:{}})]),r=this.prepareContext(r);return l&&(a=Nr(a,function(b){return o.localState.runResolvers({document:l,remoteResult:b,context:r,variables:n})})),a},t.prototype.getResultsFromLink=function(e,r,n){var i=e.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(n.query);return Nr(this.getObservableFromLink(o,n.context,n.variables),function(s){var a=kr(s),u=a.length>0;if(i>=e.lastRequestId){if(u&&n.errorPolicy==="none")throw e.markError(new We({graphQLErrors:a}));e.markResult(s,o,n,r),e.markReady()}var c={data:s.data,loading:!1,networkStatus:C.ready};return u&&n.errorPolicy!=="ignore"&&(c.errors=a,c.networkStatus=C.error),c},function(s){var a=Qo(s)?s:new We({networkError:s});throw i>=e.lastRequestId&&e.markError(a),a})},t.prototype.fetchConcastWithInfo=function(e,r,n,i){var o=this;n===void 0&&(n=C.loading),i===void 0&&(i=r.query);var s=this.getVariables(i,r.variables),a=this.getQuery(e),u=this.defaultOptions.watchQuery,c=r.fetchPolicy,l=c===void 0?u&&u.fetchPolicy||"cache-first":c,p=r.errorPolicy,f=p===void 0?u&&u.errorPolicy||"none":p,h=r.returnPartialData,y=h===void 0?!1:h,g=r.notifyOnNetworkStatusChange,v=g===void 0?!1:g,d=r.context,T=d===void 0?{}:d,b=Object.assign({},r,{query:i,variables:s,fetchPolicy:l,errorPolicy:f,returnPartialData:y,notifyOnNetworkStatusChange:v,context:T}),x=function(V){b.variables=V;var Q=o.fetchQueryByPolicy(a,b,n);return b.fetchPolicy!=="standby"&&Q.sources.length>0&&a.observableQuery&&a.observableQuery.applyNextFetchPolicy("after-fetch",r),Q},N=function(){return o.fetchCancelFns.delete(e)};this.fetchCancelFns.set(e,function(V){N(),setTimeout(function(){return O.cancel(V)})});var O,I;if(this.getDocumentInfo(b.query).hasClientExports)O=new ze(this.localState.addExportedVariables(b.query,b.variables,b.context).then(x).then(function(V){return V.sources})),I=!0;else{var _=x(b.variables);I=_.fromLink,O=new ze(_.sources)}return O.promise.then(N,N),{concast:O,fromLink:I}},t.prototype.refetchQueries=function(e){var r=this,n=e.updateCache,i=e.include,o=e.optimistic,s=o===void 0?!1:o,a=e.removeOptimistic,u=a===void 0?s?St("refetchQueries"):void 0:a,c=e.onQueryUpdated,l=new Map;i&&this.getObservableQueries(i).forEach(function(f,h){l.set(h,{oq:f,lastDiff:r.getQuery(h).getDiff()})});var p=new Map;return n&&this.cache.batch({update:n,optimistic:s&&u||!1,removeOptimistic:u,onWatchUpdated:function(f,h,y){var g=f.watcher instanceof Gr&&f.watcher.observableQuery;if(g){if(c){l.delete(g.queryId);var v=c(g,h,y);return v===!0&&(v=g.refetch()),v!==!1&&p.set(g,v),v}c!==null&&l.set(g.queryId,{oq:g,lastDiff:y,diff:h})}}}),l.size&&l.forEach(function(f,h){var y=f.oq,g=f.lastDiff,v=f.diff,d;if(c){if(!v){var T=y.queryInfo;T.reset(),v=T.getDiff()}d=c(y,v,g)}(!c||d===!0)&&(d=y.refetch()),d!==!1&&p.set(y,d),h.indexOf("legacyOneTimeQuery")>=0&&r.stopQueryNoBroadcast(h)}),u&&this.cache.removeOptimistic(u),p},t.prototype.fetchQueryByPolicy=function(e,r,n){var i=this,o=r.query,s=r.variables,a=r.fetchPolicy,u=r.refetchWritePolicy,c=r.errorPolicy,l=r.returnPartialData,p=r.context,f=r.notifyOnNetworkStatusChange,h=e.networkStatus;e.init({document:o,variables:s,networkStatus:n});var y=function(){return e.getDiff()},g=function(x,N){N===void 0&&(N=e.networkStatus||C.loading);var O=x.result;globalThis.__DEV__!==!1&&!l&&!M(O,{})&&gi(x.missing);var I=function(_){return A.of(m({data:_,loading:Ce(N),networkStatus:N},x.complete?null:{partial:!0}))};return O&&i.getDocumentInfo(o).hasForcedResolvers?i.localState.runResolvers({document:o,remoteResult:{data:O},context:p,variables:s,onlyRunForcedResolvers:!0}).then(function(_){return I(_.data||void 0)}):c==="none"&&N===C.refetch&&Array.isArray(x.missing)?I(void 0):I(O)},v=a==="no-cache"?0:n===C.refetch&&u!=="merge"?1:2,d=function(){return i.getResultsFromLink(e,v,{query:o,variables:s,context:p,fetchPolicy:a,errorPolicy:c})},T=f&&typeof h=="number"&&h!==n&&Ce(n);switch(a){default:case"cache-first":{var b=y();return b.complete?{fromLink:!1,sources:[g(b,e.markReady())]}:l||T?{fromLink:!0,sources:[g(b),d()]}:{fromLink:!0,sources:[d()]}}case"cache-and-network":{var b=y();return b.complete||l||T?{fromLink:!0,sources:[g(b),d()]}:{fromLink:!0,sources:[d()]}}case"cache-only":return{fromLink:!1,sources:[g(y(),e.markReady())]};case"network-only":return T?{fromLink:!0,sources:[g(y()),d()]}:{fromLink:!0,sources:[d()]};case"no-cache":return T?{fromLink:!0,sources:[g(e.getDiff()),d()]}:{fromLink:!0,sources:[d()]};case"standby":return{fromLink:!1,sources:[]}}},t.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Gr(this,e)),this.queries.get(e)},t.prototype.prepareContext=function(e){e===void 0&&(e={});var r=this.localState.prepareContext(e);return m(m({},r),{clientAwareness:this.clientAwareness})},t}();var ra=!1;var Jr=function(){function t(e){var r=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw L(15);var n=e.uri,i=e.credentials,o=e.headers,s=e.cache,a=e.documentTransform,u=e.ssrMode,c=u===void 0?!1:u,l=e.ssrForceFetchDelay,p=l===void 0?0:l,f=e.connectToDevTools,h=f===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&globalThis.__DEV__!==!1:f,y=e.queryDeduplication,g=y===void 0?!0:y,v=e.defaultOptions,d=e.assumeImmutableResults,T=d===void 0?s.assumeImmutableResults:d,b=e.resolvers,x=e.typeDefs,N=e.fragmentMatcher,O=e.name,I=e.version,_=e.link;_||(_=n?new Jn({uri:n,credentials:i,headers:o}):ye.empty()),this.link=_,this.cache=s,this.disableNetworkFetches=c||p>0,this.queryDeduplication=g,this.defaultOptions=v||Object.create(null),this.typeDefs=x,p&&setTimeout(function(){return r.disableNetworkFetches=!1},p),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=Ot,this.localState=new Wr({cache:s,client:this,resolvers:b,fragmentMatcher:N}),this.queryManager=new ta({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,documentTransform:a,queryDeduplication:g,ssrMode:c,clientAwareness:{name:O,version:I},localState:this.localState,assumeImmutableResults:T,onBroadcast:h?function(){r.devToolsHookCb&&r.devToolsHookCb({action:{},state:{queries:r.queryManager.getQueryStore(),mutations:r.queryManager.mutationStore||{}},dataWithOptimisticResults:r.cache.extract(!0)})}:void 0}),h&&this.connectToDevTools()}return t.prototype.connectToDevTools=function(){if(typeof window=="object"){var e=window,r=Symbol.for("apollo.devtools");(e[r]=e[r]||[]).push(this),e.__APOLLO_CLIENT__=this}!ra&&globalThis.__DEV__!==!1&&(ra=!0,setTimeout(function(){if(typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var n=window.navigator,i=n&&n.userAgent,o=void 0;typeof i=="string"&&(i.indexOf("Chrome/")>-1?o="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":i.indexOf("Firefox/")>-1&&(o="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),o&&globalThis.__DEV__!==!1&&w.log("Download the Apollo DevTools for a better development experience: %s",o)}},1e4))},Object.defineProperty(t.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),t.prototype.stop=function(){this.queryManager.stop()},t.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=jt(this.defaultOptions.watchQuery,e)),this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")&&(e=m(m({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},t.prototype.query=function(e){return this.defaultOptions.query&&(e=jt(this.defaultOptions.query,e)),w(e.fetchPolicy!=="cache-and-network",16),this.disableNetworkFetches&&e.fetchPolicy==="network-only"&&(e=m(m({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},t.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=jt(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},t.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},t.prototype.readQuery=function(e,r){return r===void 0&&(r=!1),this.cache.readQuery(e,r)},t.prototype.readFragment=function(e,r){return r===void 0&&(r=!1),this.cache.readFragment(e,r)},t.prototype.writeQuery=function(e){var r=this.cache.writeQuery(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),r},t.prototype.writeFragment=function(e){var r=this.cache.writeFragment(e);return e.broadcast!==!1&&this.queryManager.broadcastQueries(),r},t.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},t.prototype.__requestRaw=function(e){return lt(this.link,e)},t.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(r){return r()}))}).then(function(){return e.reFetchObservableQueries()})},t.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(r){return r()}))})},t.prototype.onResetStore=function(e){var r=this;return this.resetStoreCallbacks.push(e),function(){r.resetStoreCallbacks=r.resetStoreCallbacks.filter(function(n){return n!==e})}},t.prototype.onClearStore=function(e){var r=this;return this.clearStoreCallbacks.push(e),function(){r.clearStoreCallbacks=r.clearStoreCallbacks.filter(function(n){return n!==e})}},t.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},t.prototype.refetchQueries=function(e){var r=this.queryManager.refetchQueries(e),n=[],i=[];r.forEach(function(s,a){n.push(a),i.push(s)});var o=Promise.all(i);return o.queries=n,o.results=i,o.catch(function(s){globalThis.__DEV__!==!1&&w.debug(17,s)}),o},t.prototype.getObservableQueries=function(e){return e===void 0&&(e="active"),this.queryManager.getObservableQueries(e)},t.prototype.extract=function(e){return this.cache.extract(e)},t.prototype.restore=function(e){return this.cache.restore(e)},t.prototype.addResolvers=function(e){this.localState.addResolvers(e)},t.prototype.setResolvers=function(e){this.localState.setResolvers(e)},t.prototype.getResolvers=function(){return this.localState.getResolvers()},t.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},t.prototype.setLink=function(e){this.link=this.queryManager.link=e},t}();var Yr=new Map,Ei=new Map,na=!0,Kr=!1;function ia(t){return t.replace(/[\s,]+/g," ").trim()}function Hc(t){return ia(t.source.body.substring(t.start,t.end))}function Jc(t){var e=new Set,r=[];return t.definitions.forEach(function(n){if(n.kind==="FragmentDefinition"){var i=n.name.value,o=Hc(n.loc),s=Ei.get(i);s&&!s.has(o)?na&&console.warn("Warning: fragment with name "+i+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||Ei.set(i,s=new Set),s.add(o),e.has(o)||(e.add(o),r.push(n))}else r.push(n)}),m(m({},t),{definitions:r})}function Yc(t){var e=new Set(t.definitions);e.forEach(function(n){n.loc&&delete n.loc,Object.keys(n).forEach(function(i){var o=n[i];o&&typeof o=="object"&&e.add(o)})});var r=t.loc;return r&&(delete r.startToken,delete r.endToken),t}function Kc(t){var e=ia(t);if(!Yr.has(e)){var r=br(t,{experimentalFragmentVariables:Kr,allowLegacyFragmentVariables:Kr});if(!r||r.kind!=="Document")throw new Error("Not a valid GraphQL document.");Yr.set(e,Yc(Jc(r)))}return Yr.get(e)}function Pe(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];typeof t=="string"&&(t=[t]);var n=t[0];return e.forEach(function(i,o){i&&i.kind==="Document"?n+=i.loc.source.body:n+=i,n+=t[o+1]}),Kc(n)}function oa(){Yr.clear(),Ei.clear()}function sa(){na=!1}function aa(){Kr=!0}function ua(){Kr=!1}var $t={gql:Pe,resetCaches:oa,disableFragmentWarnings:sa,enableExperimentalFragmentVariables:aa,disableExperimentalFragmentVariables:ua};(function(t){t.gql=$t.gql,t.resetCaches=$t.resetCaches,t.disableFragmentWarnings=$t.disableFragmentWarnings,t.enableExperimentalFragmentVariables=$t.enableExperimentalFragmentVariables,t.disableExperimentalFragmentVariables=$t.disableExperimentalFragmentVariables})(Pe||(Pe={}));Pe.default=Pe;eo(globalThis.__DEV__!==!1?"log":"silent");function ca(t){return new gt(e=>(t().then(r=>{e.closed||(e.next(r),e.complete())},r=>{e.closed||e.error(r)}),()=>e.unsubscribe()))}function $c(t,e){return e?t.pipe(Ai({loading:!0}),Oe(r=>Xt(he({},r),{loading:!!r.loading}))):t.pipe(Oe(r=>Xt(he({},r),{loading:!1})))}var xi=class{zone;constructor(e){this.zone=e}now=Date.now?Date.now:()=>+new Date;schedule(e,r=0,n){return this.zone.run(()=>_i.schedule(e,r,n))}};function la(t){return t[Ii]=()=>t,t}function pa(t,e){return t.pipe(ki(new xi(e)))}function fa(t,e,r){return t&&typeof t[e]<"u"?t[e]:r}function Xc(t){return function(r){return new gt(function(i){let o=t.getCurrentResult(),{loading:s,errors:a,error:u,partial:c,data:l}=o,{partialRefetch:p,fetchPolicy:f}=t.options,h=a||u;return p&&c&&(!l||Object.keys(l).length===0)&&f!=="cache-only"&&!s&&!h&&i.next(Xt(he({},o),{loading:!0,networkStatus:C.loading})),r.subscribe(i)})}}var Oi=class{obsQuery;valueChanges;queryId;constructor(e,r,n){this.obsQuery=e;let i=pa(bt(la(this.obsQuery)),r);this.valueChanges=n.useInitialLoading?i.pipe(Xc(this.obsQuery)):i,this.queryId=this.obsQuery.queryId}get options(){return this.obsQuery.options}get variables(){return this.obsQuery.variables}result(){return this.obsQuery.result()}getCurrentResult(){return this.obsQuery.getCurrentResult()}getLastResult(){return this.obsQuery.getLastResult()}getLastError(){return this.obsQuery.getLastError()}resetLastResults(){return this.obsQuery.resetLastResults()}refetch(e){return this.obsQuery.refetch(e)}fetchMore(e){return this.obsQuery.fetchMore(e)}subscribeToMore(e){return this.obsQuery.subscribeToMore(e)}updateQuery(e){return this.obsQuery.updateQuery(e)}stopPolling(){return this.obsQuery.stopPolling()}startPolling(e){return this.obsQuery.startPolling(e)}setOptions(e){return this.obsQuery.setOptions(e)}setVariables(e){return this.obsQuery.setVariables(e)}},Zc=new ee("APOLLO_FLAGS"),ef=new ee("APOLLO_OPTIONS"),tf=new ee("APOLLO_NAMED_OPTIONS"),$r=class{ngZone;flags;_client;useInitialLoading;useMutationLoading;constructor(e,r,n){this.ngZone=e,this.flags=r,this._client=n,this.useInitialLoading=fa(r,"useInitialLoading",!1),this.useMutationLoading=fa(r,"useMutationLoading",!1)}watchQuery(e){return new Oi(this.ensureClient().watchQuery(he({},e)),this.ngZone,he({useInitialLoading:this.useInitialLoading},e))}query(e){return ca(()=>this.ensureClient().query(he({},e)))}mutate(e){return $c(ca(()=>this.ensureClient().mutate(he({},e))),e.useMutationLoading??this.useMutationLoading)}subscribe(e,r){let n=bt(la(this.ensureClient().subscribe(he({},e))));return r&&r.useZone!==!0?n:pa(n,this.ngZone)}getClient(){return this.client}setClient(e){this.client=e}get client(){return this._client}set client(e){if(this._client)throw new Error("Client has been already defined");this._client=e}ensureClient(){return this.checkInstance(),this._client}checkInstance(){if(!this._client)throw new Error("Client has not been defined yet")}},rf=(()=>{class t extends $r{_ngZone;map=new Map;constructor(r,n,i,o){if(super(r,o),this._ngZone=r,n&&this.createDefault(n),i&&typeof i=="object"){for(let s in i)if(i.hasOwnProperty(s)){let a=i[s];this.create(a,s)}}}create(r,n){Ti(n)?this.createDefault(r):this.createNamed(n,r)}default(){return this}use(r){return Ti(r)?this.default():this.map.get(r)}createDefault(r){if(this.getClient())throw new Error("Apollo has been already created.");return this.setClient(new Jr(r))}createNamed(r,n){if(this.map.has(r))throw new Error(`Client ${r} has been already created`);this.map.set(r,new $r(this._ngZone,this.flags,new Jr(n)))}removeClient(r){Ti(r)?this._client=void 0:this.map.delete(r)}static \u0275fac=function(n){return new(n||t)(te(on),te(ef,8),te(tf,8),te(Zc,8))};static \u0275prov=Le({token:t,factory:t.\u0275fac})}return t})();function Ti(t){return!t||t==="default"}var nf=[rf],zg=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=er({type:t});static \u0275inj=Zt({providers:nf})}return t})();function of(t,...e){return Pe(t,...e)}var Wg=of;export{Me as a,we as b,Ta as c,Nf as d,Tr as e,A as f,ye as g,Ks as h,ef as i,rf as j,zg as k,Wg as l};
